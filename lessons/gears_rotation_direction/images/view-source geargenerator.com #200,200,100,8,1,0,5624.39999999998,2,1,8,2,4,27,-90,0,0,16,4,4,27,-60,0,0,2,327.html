
<!-- saved from url=(0105)http://geargenerator.com/#200,200,100,8,1,0,5624.39999999998,2,1,8,2,4,27,-90,0,0,16,4,4,27,-60,0,0,2,327 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><div class="line-gutter-backdrop"></div><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content"><span class="html-doctype">&lt;!DOCTYPE html&gt;</span></td></tr><tr><td class="line-number" value="2"></td><td class="line-content"><span class="html-tag">&lt;html&gt;</span></td></tr><tr><td class="line-number" value="3"></td><td class="line-content">	<span class="html-tag">&lt;head&gt;</span></td></tr><tr><td class="line-number" value="4"></td><td class="line-content">		<span class="html-tag">&lt;meta <span class="html-attribute-name">http-equiv</span>="<span class="html-attribute-value">content-type</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">text/html;charset=utf-8</span>"&gt;</span></td></tr><tr><td class="line-number" value="5"></td><td class="line-content">		<span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">description</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">Involute spur gear generator and simulator</span>" /&gt;</span></td></tr><tr><td class="line-number" value="6"></td><td class="line-content">		<span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">keywords</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">Gear generator, simulator, geargenerator, html, css, javascript, svg, download, free</span>" /&gt;</span></td></tr><tr><td class="line-number" value="7"></td><td class="line-content">		<span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">author</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">Abel Vincze, Iparigrafika Ltd.</span>" /&gt;</span></td></tr><tr><td class="line-number" value="8"></td><td class="line-content">		<span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:url</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">http://geargenerator.com/</span>" /&gt;</span></td></tr><tr><td class="line-number" value="9"></td><td class="line-content">		<span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:title</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">Involute spur gear generator and simulator</span>" /&gt;</span></td></tr><tr><td class="line-number" value="10"></td><td class="line-content">		<span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:description</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">Gear Generator is a tool for creating involute spur gears and download them in SVG format. In addition it let you compose full gear layouts with connetcted gears to design multiple gears system with control of the input/output ratio and rotation speed. Gears can be animated with various speed to demonstrate working mechanism</span>" /&gt;</span></td></tr><tr><td class="line-number" value="11"></td><td class="line-content">		<span class="html-tag">&lt;meta <span class="html-attribute-name">property</span>="<span class="html-attribute-value">og:image</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">http://geargenerator.com/shareimage.jpg</span>" /&gt;</span></td></tr><tr><td class="line-number" value="12"></td><td class="line-content">		<span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">canonical</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="http://geargenerator.com/">http://geargenerator.com/</a>" /&gt;</span></td></tr><tr><td class="line-number" value="13"></td><td class="line-content">		<span class="html-tag">&lt;title&gt;</span>Gear Generator<span class="html-tag">&lt;/title&gt;</span></td></tr><tr><td class="line-number" value="14"></td><td class="line-content">		<span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="http://geargenerator.com/jquery-1.11.1.min.js">jquery-1.11.1.min.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="15"></td><td class="line-content">		<span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>" <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="http://geargenerator.com/jquery.cookie.js">jquery.cookie.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="16"></td><td class="line-content">		<span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="17"></td><td class="line-content">			/*</td></tr><tr><td class="line-number" value="18"></td><td class="line-content">			todo:</td></tr><tr><td class="line-number" value="19"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="20"></td><td class="line-content">			* remove any gear</td></tr><tr><td class="line-number" value="21"></td><td class="line-content">			- remove any single gear</td></tr><tr><td class="line-number" value="22"></td><td class="line-content">			* change parent gear</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">			* Diametral Pitch change recursive</td></tr><tr><td class="line-number" value="24"></td><td class="line-content">			- Drag'n'drop move</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">			* add/remove gears</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">			* update scale for all gears</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">			* gear level RPM setting...</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">			* URL hash-ben mentes...</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">			- hide controls</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">			- show hide setting categories</td></tr><tr><td class="line-number" value="34"></td><td class="line-content">			* share buttons</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">			* download buttons</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">			* about text</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="38"></td><td class="line-content">			* update gear text!!! (with ratio and RPM)</td></tr><tr><td class="line-number" value="39"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">			*/</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">			var shift,</td></tr><tr><td class="line-number" value="43"></td><td class="line-content">				guides = true,</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">				geartext = true,</td></tr><tr><td class="line-number" value="45"></td><td class="line-content">				grid = true,</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">				AM = 180/Math.PI,</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">				font = ["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-/=*;:,.&lt;&gt;", "0204284442324335464738181215080307480525452224683316263634174130100106373120004014232713", "4ABCDE/BD 4AFGDHIJKLM/NH/OL 4GFMPQLKJ 4AFGJKO/LM 4EAOR/ST 4AOR/ST 4HUEMPQLR 4ER/US/OA 2VA/ML/CO 4RGFMP 4ENR/AO/NS 4EAO 4ERWOA 4REOA 4UGFMPQLKJU 4SHIJKOA 4DVMPQLKJD 4ENHIJKOA/NS 4JKLQGFMP 4RO/CV 4RGFMPO 6XFO 6XEHVO 4RA/EO 4RTO/TV 4EARO 4YVMPSZaHYE 4OBabUGFVBA 4EMPSZI 4EDVMPSZaDR 4FMPSZbUcB 4MdCKJ/HS 4EMPSZbUefgh 4BabUE/AO 0Ai/QO 3Kj/bklgh 4EWI/AO/WB 1MPO 4Ai/SZTbUE/WT 4Ai/BabUE 4GFMPSZbUG 4mi/SZbUGFA 4nI/EMPSZbU 4Ai/BabU 4IZSocGFA 4GFpC/Ii 4IE/DVMPi 4IVi 4IFaMi 4IA/Ei 4Igm/Vi 4EAIi 3YVMPQLCjY 2QLM/VA 4EABNHIJKLQ 4QLKJIHDGFMP/TH 4DBKF 4ROibUGFMP 4SHDGFMPiCK 4ORV 4NBPMFGDHNiQLKJIH 4UNiQLKJDVM 4pq/US 4US 4RA 4Ii/DB 4US/pq/JP/GQ 1ZN/oMh 1ZN/or 1rMh 0PA 3KSF 3OHA"],</td></tr><tr><td class="line-number" value="48"></td><td class="line-content">				baserot = 0,</td></tr><tr><td class="line-number" value="49"></td><td class="line-content">				rot = baserot,				// global base rotation</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">				RPM = 0,</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">				realRPM = 0,</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">				rota = 0,</td></tr><tr><td class="line-number" value="53"></td><td class="line-content">				animation = false,</td></tr><tr><td class="line-number" value="54"></td><td class="line-content">				loop = false,</td></tr><tr><td class="line-number" value="55"></td><td class="line-content">				gears = [],</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">				selectedgear = -1,</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">				defaultgear = {	ID: -1,	N: 9, D: 1.5, P: 6, PA: 20, rot: rot, gearangle: 0, jointangle: -60	},</td></tr><tr><td class="line-number" value="58"></td><td class="line-content">				has3d,</td></tr><tr><td class="line-number" value="59"></td><td class="line-content">				theme = 1;</td></tr><tr><td class="line-number" value="60"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="61"></td><td class="line-content">			function fixInput( v, setFN, def, min, max ) {</td></tr><tr><td class="line-number" value="62"></td><td class="line-content">				if( isNaN( v ) ) v = def;</td></tr><tr><td class="line-number" value="63"></td><td class="line-content">				if( min != undefined &amp;&amp; v&lt;min ) v=min;</td></tr><tr><td class="line-number" value="64"></td><td class="line-content">				else if( max != undefined &amp;&amp; v&gt;max ) v=max;</td></tr><tr><td class="line-number" value="65"></td><td class="line-content">				setFN( v );</td></tr><tr><td class="line-number" value="66"></td><td class="line-content">				return v;</td></tr><tr><td class="line-number" value="67"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="68"></td><td class="line-content">			function getNfix() { return fixInput( Number( $("#N").val() ), setN, gears[selectedgear].N, 4, 200 ); }			</td></tr><tr><td class="line-number" value="69"></td><td class="line-content">			function getN() { return Number( $("#N").val() ); }			</td></tr><tr><td class="line-number" value="70"></td><td class="line-content">			function setN( v ) { $("#N").val( v ); }			</td></tr><tr><td class="line-number" value="71"></td><td class="line-content">			function getDfix() { return fixInput( Number( $("#D").val() ), setD, gears[selectedgear].D, 0.1 ); }			</td></tr><tr><td class="line-number" value="72"></td><td class="line-content">			function getD() { return Number( $("#D").val() ); }			</td></tr><tr><td class="line-number" value="73"></td><td class="line-content">			function setD( v ) { $("#D").val( v ); }			</td></tr><tr><td class="line-number" value="74"></td><td class="line-content">			function getPfix() { return fixInput( Number( $("#P").val() ), setP, gears[selectedgear].P, 1, 200 ); }</td></tr><tr><td class="line-number" value="75"></td><td class="line-content">			function getP() { return Number( $("#P").val() ); }</td></tr><tr><td class="line-number" value="76"></td><td class="line-content">			function setP( v ) { $("#P").val( v ); }			</td></tr><tr><td class="line-number" value="77"></td><td class="line-content">			function getPAfix() { return fixInput( Number( $("#PA").val() ), setPA, gears[selectedgear].PA, 12, 35 ); }			</td></tr><tr><td class="line-number" value="78"></td><td class="line-content">			function getPA() { return Number( $("#PA").val() ); }			</td></tr><tr><td class="line-number" value="79"></td><td class="line-content">			function setPA( v ) { $("#PA").val( v ); }			</td></tr><tr><td class="line-number" value="80"></td><td class="line-content">			function getRPMfix() { return fixInput( Number( $("#RPM").val() ), setRPM, RPM, -360, 360 ); }			</td></tr><tr><td class="line-number" value="81"></td><td class="line-content">			function getRPM() { return Number( $("#RPM").val() ); }			</td></tr><tr><td class="line-number" value="82"></td><td class="line-content">			function setRPM( v ) { $("#RPM").val( v ); }			</td></tr><tr><td class="line-number" value="83"></td><td class="line-content">			function getscalefix() { return fixInput( Number( $("#scale").val() ), setscale, 100, 25, 400 ); }			</td></tr><tr><td class="line-number" value="84"></td><td class="line-content">			function getscale() { return Number( $("#scale").val() ); }			</td></tr><tr><td class="line-number" value="85"></td><td class="line-content">			function setscale( v ) { $("#scale").val( v ); }			</td></tr><tr><td class="line-number" value="86"></td><td class="line-content">			function getPGfix() { return fixInput( Number( $("#PG").val() ), setPG, gears[selectedgear].parentID, -1 ); }			</td></tr><tr><td class="line-number" value="87"></td><td class="line-content">			function getPG() { return Number( $("#PG").val() ); }			</td></tr><tr><td class="line-number" value="88"></td><td class="line-content">			function setPG( v ) { $("#PG").val( v ); }			</td></tr><tr><td class="line-number" value="89"></td><td class="line-content">			function getCAXLE() { return !!$("#CAXLE:checked").val(); }			</td></tr><tr><td class="line-number" value="90"></td><td class="line-content">			function setCAXLE( v ) { $("#CAXLE").prop("checked", v==true ); }			</td></tr><tr><td class="line-number" value="91"></td><td class="line-content">			function getgrid() { return !!$("#grid:checked").val(); }			</td></tr><tr><td class="line-number" value="92"></td><td class="line-content">			function setgrid( v ) { $("#grid").prop("checked", v==true ); }			</td></tr><tr><td class="line-number" value="93"></td><td class="line-content">			function getguides() { return !!$("#guides:checked").val(); }			</td></tr><tr><td class="line-number" value="94"></td><td class="line-content">			function setguides( v ) { $("#guides").prop("checked", v==true ); }			</td></tr><tr><td class="line-number" value="95"></td><td class="line-content">			function getlabels() { return !!$("#labels:checked").val(); }			</td></tr><tr><td class="line-number" value="96"></td><td class="line-content">			function setlabels( v ) { $("#labels").prop("checked", v==true ); }			</td></tr><tr><td class="line-number" value="97"></td><td class="line-content">			function getCAfix() { return fixInput( Number( $("#CA").val() ), setCA, gears[selectedgear].jointangle ); }			</td></tr><tr><td class="line-number" value="98"></td><td class="line-content">			function getCA() { return Number( $("#CA").val() ); }			</td></tr><tr><td class="line-number" value="99"></td><td class="line-content">			function setCA( v ) { $("#CA").val( v ); }			</td></tr><tr><td class="line-number" value="100"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="101"></td><td class="line-content">			// --------------------------------------------------------------------------------------------------</td></tr><tr><td class="line-number" value="102"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="103"></td><td class="line-content">			function Nadd( a ) {</td></tr><tr><td class="line-number" value="104"></td><td class="line-content">				setN( getN()+a );</td></tr><tr><td class="line-number" value="105"></td><td class="line-content">				Nchange();</td></tr><tr><td class="line-number" value="106"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="107"></td><td class="line-content">			function PAadd( a ) {</td></tr><tr><td class="line-number" value="108"></td><td class="line-content">				setPA( getPA()+a );</td></tr><tr><td class="line-number" value="109"></td><td class="line-content">				PAchange();</td></tr><tr><td class="line-number" value="110"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="111"></td><td class="line-content">			function Aadd( a ) {</td></tr><tr><td class="line-number" value="112"></td><td class="line-content">				setCA( getCA()+a );</td></tr><tr><td class="line-number" value="113"></td><td class="line-content">				CAchange();</td></tr><tr><td class="line-number" value="114"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="115"></td><td class="line-content">			function scalem( m ) {</td></tr><tr><td class="line-number" value="116"></td><td class="line-content">				setscale( getscale()*m );</td></tr><tr><td class="line-number" value="117"></td><td class="line-content">				scaleChange();</td></tr><tr><td class="line-number" value="118"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="119"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="120"></td><td class="line-content">			function Nchange() {</td></tr><tr><td class="line-number" value="121"></td><td class="line-content">				if( shift ) {</td></tr><tr><td class="line-number" value="122"></td><td class="line-content">					setP( getNfix()/getD() );</td></tr><tr><td class="line-number" value="123"></td><td class="line-content">					updatePitches();</td></tr><tr><td class="line-number" value="124"></td><td class="line-content">				} else {</td></tr><tr><td class="line-number" value="125"></td><td class="line-content">					setD( getNfix()/getP() );</td></tr><tr><td class="line-number" value="126"></td><td class="line-content">					updateGears();</td></tr><tr><td class="line-number" value="127"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="128"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="129"></td><td class="line-content">			function Dchange() {</td></tr><tr><td class="line-number" value="130"></td><td class="line-content">				if( shift ) {</td></tr><tr><td class="line-number" value="131"></td><td class="line-content">					setP( getN()/getDfix() );</td></tr><tr><td class="line-number" value="132"></td><td class="line-content">					updatePitches();</td></tr><tr><td class="line-number" value="133"></td><td class="line-content">				} else {</td></tr><tr><td class="line-number" value="134"></td><td class="line-content">					setN( Math.floor( getDfix()*getP() ) );</td></tr><tr><td class="line-number" value="135"></td><td class="line-content">					Nchange();</td></tr><tr><td class="line-number" value="136"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="137"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="138"></td><td class="line-content">			function Pchange() {</td></tr><tr><td class="line-number" value="139"></td><td class="line-content">				setD( getN()/getPfix() );</td></tr><tr><td class="line-number" value="140"></td><td class="line-content">				updatePitches();</td></tr><tr><td class="line-number" value="141"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="142"></td><td class="line-content">			function PAchange() {</td></tr><tr><td class="line-number" value="143"></td><td class="line-content">				getPAfix();</td></tr><tr><td class="line-number" value="144"></td><td class="line-content">				updatePitches();</td></tr><tr><td class="line-number" value="145"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="146"></td><td class="line-content">				function calcP() {</td></tr><tr><td class="line-number" value="147"></td><td class="line-content">					setP( getN()/getD() );</td></tr><tr><td class="line-number" value="148"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="149"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="150"></td><td class="line-content">			function RPMchange() {</td></tr><tr><td class="line-number" value="151"></td><td class="line-content">				RPM = getRPMfix();</td></tr><tr><td class="line-number" value="152"></td><td class="line-content">				if( shift ) RPM = RPM/gears[selectedgear].totalratio;</td></tr><tr><td class="line-number" value="153"></td><td class="line-content">				updateListItemText( 0 );</td></tr><tr><td class="line-number" value="154"></td><td class="line-content">				updateHash();</td></tr><tr><td class="line-number" value="155"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="156"></td><td class="line-content">			function scaleChange() {</td></tr><tr><td class="line-number" value="157"></td><td class="line-content">				getscalefix();</td></tr><tr><td class="line-number" value="158"></td><td class="line-content">				renderAllGears();</td></tr><tr><td class="line-number" value="159"></td><td class="line-content">				updateHash();</td></tr><tr><td class="line-number" value="160"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="161"></td><td class="line-content">			function CAchange() {</td></tr><tr><td class="line-number" value="162"></td><td class="line-content">				gears[selectedgear].jointangle = getCAfix();</td></tr><tr><td class="line-number" value="163"></td><td class="line-content">				positionGears( selectedgear );</td></tr><tr><td class="line-number" value="164"></td><td class="line-content">				rotateGears( selectedgear );</td></tr><tr><td class="line-number" value="165"></td><td class="line-content">				updateHash();</td></tr><tr><td class="line-number" value="166"></td><td class="line-content">				maxSize();</td></tr><tr><td class="line-number" value="167"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="168"></td><td class="line-content">			function PGchange() {</td></tr><tr><td class="line-number" value="169"></td><td class="line-content">				var ID = selectedgear,</td></tr><tr><td class="line-number" value="170"></td><td class="line-content">					gear = gears[ID]</td></tr><tr><td class="line-number" value="171"></td><td class="line-content">					pID = gear.parentID,</td></tr><tr><td class="line-number" value="172"></td><td class="line-content">					PG = getPGfix();</td></tr><tr><td class="line-number" value="173"></td><td class="line-content">				if( PG&gt;=0 &amp;&amp; !isChildOf( PG, ID ) &amp;&amp; PG != pID &amp;&amp; PG&lt;gears.length) {</td></tr><tr><td class="line-number" value="174"></td><td class="line-content">					var parentChilds = gears[pID].childIDs;</td></tr><tr><td class="line-number" value="175"></td><td class="line-content">					parentChilds.splice( parentChilds.lastIndexOf( ID ), 1);</td></tr><tr><td class="line-number" value="176"></td><td class="line-content">					gear.parentID = PG;</td></tr><tr><td class="line-number" value="177"></td><td class="line-content">					gears[gear.parentID].childIDs.push( ID );</td></tr><tr><td class="line-number" value="178"></td><td class="line-content">					updateJoint();</td></tr><tr><td class="line-number" value="179"></td><td class="line-content">				} else setPG( pID );</td></tr><tr><td class="line-number" value="180"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="181"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="182"></td><td class="line-content">			function CAXLEchange() {</td></tr><tr><td class="line-number" value="183"></td><td class="line-content">				var ID = selectedgear,</td></tr><tr><td class="line-number" value="184"></td><td class="line-content">					gear = gears[ID];</td></tr><tr><td class="line-number" value="185"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="186"></td><td class="line-content">				if( gear.parentID&lt;0 ) {</td></tr><tr><td class="line-number" value="187"></td><td class="line-content">					setCAXLE( true );</td></tr><tr><td class="line-number" value="188"></td><td class="line-content">					return;</td></tr><tr><td class="line-number" value="189"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="190"></td><td class="line-content">				updateJoint();</td></tr><tr><td class="line-number" value="191"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="192"></td><td class="line-content">			function updateJoint() {</td></tr><tr><td class="line-number" value="193"></td><td class="line-content">				var ID = selectedgear,</td></tr><tr><td class="line-number" value="194"></td><td class="line-content">					gear = gears[ID],</td></tr><tr><td class="line-number" value="195"></td><td class="line-content">					pP = gears[gear.parentID].P,</td></tr><tr><td class="line-number" value="196"></td><td class="line-content">					pPA = gears[gear.parentID].PA;</td></tr><tr><td class="line-number" value="197"></td><td class="line-content">				if( !(gear.axlejoint = getCAXLE()) &amp;&amp; ( pP != getP() || pPA != getPA() ) ) {</td></tr><tr><td class="line-number" value="198"></td><td class="line-content">					setD(getN()/pP);</td></tr><tr><td class="line-number" value="199"></td><td class="line-content">					setP(pP);</td></tr><tr><td class="line-number" value="200"></td><td class="line-content">					setPA(pPA);</td></tr><tr><td class="line-number" value="201"></td><td class="line-content">					updatePitches();</td></tr><tr><td class="line-number" value="202"></td><td class="line-content">				} else {</td></tr><tr><td class="line-number" value="203"></td><td class="line-content">					positionGears( ID );</td></tr><tr><td class="line-number" value="204"></td><td class="line-content">					rotateGears( ID );</td></tr><tr><td class="line-number" value="205"></td><td class="line-content">					updateListItemText( ID );</td></tr><tr><td class="line-number" value="206"></td><td class="line-content">					updateHash();</td></tr><tr><td class="line-number" value="207"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="208"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="209"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="210"></td><td class="line-content">			function displaychange() {</td></tr><tr><td class="line-number" value="211"></td><td class="line-content">				if( grid != (grid = getgrid()) ) makeGrid();</td></tr><tr><td class="line-number" value="212"></td><td class="line-content">				guides = getguides();</td></tr><tr><td class="line-number" value="213"></td><td class="line-content">				setGuidesClass();</td></tr><tr><td class="line-number" value="214"></td><td class="line-content">				geartext = getlabels();</td></tr><tr><td class="line-number" value="215"></td><td class="line-content">				setLabelsClass()</td></tr><tr><td class="line-number" value="216"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="217"></td><td class="line-content">				writeCookies();</td></tr><tr><td class="line-number" value="218"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="219"></td><td class="line-content">			function setGuidesClass() {</td></tr><tr><td class="line-number" value="220"></td><td class="line-content">				if( getguides() ) $("#screen").removeClass("noguides");</td></tr><tr><td class="line-number" value="221"></td><td class="line-content">				else $("#screen").addClass("noguides");</td></tr><tr><td class="line-number" value="222"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="223"></td><td class="line-content">			function setLabelsClass() {</td></tr><tr><td class="line-number" value="224"></td><td class="line-content">				if( getlabels() ) $("#screen").removeClass("nolabels");</td></tr><tr><td class="line-number" value="225"></td><td class="line-content">				else $("#screen").addClass("nolabels");</td></tr><tr><td class="line-number" value="226"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="227"></td><td class="line-content">			// --------------------------------------------------------------------------------------------------</td></tr><tr><td class="line-number" value="228"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="229"></td><td class="line-content">			function createGear( N, D, P, PA, ID ) {</td></tr><tr><td class="line-number" value="230"></td><td class="line-content">				var sc = getscale(),</td></tr><tr><td class="line-number" value="231"></td><td class="line-content">					A = 1/P,</td></tr><tr><td class="line-number" value="232"></td><td class="line-content">					B = 1.157/P,</td></tr><tr><td class="line-number" value="233"></td><td class="line-content">					OD = (N + 2)/P,</td></tr><tr><td class="line-number" value="234"></td><td class="line-content">					RD = (N - 2.3)/P,</td></tr><tr><td class="line-number" value="235"></td><td class="line-content">					BC = D*Math.cos(PA*(Math.PI/180)),</td></tr><tr><td class="line-number" value="236"></td><td class="line-content">					CP = Math.PI/P,</td></tr><tr><td class="line-number" value="237"></td><td class="line-content">					rmin = RD/2,</td></tr><tr><td class="line-number" value="238"></td><td class="line-content">					rmax = OD/2,</td></tr><tr><td class="line-number" value="239"></td><td class="line-content">					rbase = BC/2,</td></tr><tr><td class="line-number" value="240"></td><td class="line-content">					pts = [],</td></tr><tr><td class="line-number" value="241"></td><td class="line-content">					ac = 0,</td></tr><tr><td class="line-number" value="242"></td><td class="line-content">					aca = 0,</td></tr><tr><td class="line-number" value="243"></td><td class="line-content">					w = Math.ceil( OD/2*sc )*2,</td></tr><tr><td class="line-number" value="244"></td><td class="line-content">					h = w,</td></tr><tr><td class="line-number" value="245"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="246"></td><td class="line-content">					addpts = function( p ) { pts.push( p );	},</td></tr><tr><td class="line-number" value="247"></td><td class="line-content">					pt = function( r, a ) { return { r: r, a: a }; },</td></tr><tr><td class="line-number" value="248"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="249"></td><td class="line-content">					out = '&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!-- Generator: Iparigrafika Gear Generator by Abel Vincze http://geargenerator.com/ --&gt;&lt;svg version="1.2" class="svggear" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="'+w+'px" height="'+h+'px" viewBox="'+(-w/2)+' '+(-h/2)+' '+w+' '+h+'" overflow="scroll" xml:space="preserve"&gt;';</td></tr><tr><td class="line-number" value="250"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="251"></td><td class="line-content">				// calc</td></tr><tr><td class="line-number" value="252"></td><td class="line-content">				addpts( pt( rmin, 0 ) );			//first point</td></tr><tr><td class="line-number" value="253"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="254"></td><td class="line-content">				for( var i=1, pn=0, step=1, first = true; i&lt;100; i+=step ) {</td></tr><tr><td class="line-number" value="255"></td><td class="line-content">					// get a point...</td></tr><tr><td class="line-number" value="256"></td><td class="line-content">					var bpl = polarToLinear( pt( rbase, -i ) ),			//base point linear</td></tr><tr><td class="line-number" value="257"></td><td class="line-content">						len = ((rbase*Math.PI*2)/360)*i,				//length</td></tr><tr><td class="line-number" value="258"></td><td class="line-content">						opl = polarToLinear( pt( len, -i+90 ) ),		//add line</td></tr><tr><td class="line-number" value="259"></td><td class="line-content">						np = linearToPolar( { x: bpl.x+opl.x, y: bpl.y+opl.y } );</td></tr><tr><td class="line-number" value="260"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="261"></td><td class="line-content">					if( np.r&gt;= rmin ) {</td></tr><tr><td class="line-number" value="262"></td><td class="line-content">						//console.log( np.a );</td></tr><tr><td class="line-number" value="263"></td><td class="line-content">						if( first ) {</td></tr><tr><td class="line-number" value="264"></td><td class="line-content">							first = false;</td></tr><tr><td class="line-number" value="265"></td><td class="line-content">							step=(2/N)*10;</td></tr><tr><td class="line-number" value="266"></td><td class="line-content">							//console.log("first point at "+i );</td></tr><tr><td class="line-number" value="267"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="268"></td><td class="line-content">						if( np.r&lt;D/2 ) {</td></tr><tr><td class="line-number" value="269"></td><td class="line-content">							ac = np.a;</td></tr><tr><td class="line-number" value="270"></td><td class="line-content">							aca = i;</td></tr><tr><td class="line-number" value="271"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="272"></td><td class="line-content">						pn++;</td></tr><tr><td class="line-number" value="273"></td><td class="line-content">						if( np.r&gt; rmax ) {</td></tr><tr><td class="line-number" value="274"></td><td class="line-content">							np.r = rmax;</td></tr><tr><td class="line-number" value="275"></td><td class="line-content">							addpts( np );</td></tr><tr><td class="line-number" value="276"></td><td class="line-content">							break;	</td></tr><tr><td class="line-number" value="277"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="278"></td><td class="line-content">						addpts( np );</td></tr><tr><td class="line-number" value="279"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="280"></td><td class="line-content">				} </td></tr><tr><td class="line-number" value="281"></td><td class="line-content">				// tukrozes</td></tr><tr><td class="line-number" value="282"></td><td class="line-content">				var fa = 360/N,						// final a</td></tr><tr><td class="line-number" value="283"></td><td class="line-content">					ma = fa/2 + 2*ac,				// mirror a</td></tr><tr><td class="line-number" value="284"></td><td class="line-content">					fpa = (fa-ma)&gt;0?0:-(fa-ma)/2,	// first point a</td></tr><tr><td class="line-number" value="285"></td><td class="line-content">					m=pts.length;</td></tr><tr><td class="line-number" value="286"></td><td class="line-content">				pts[0] = pt( rmin, fpa );			// fix first point a</td></tr><tr><td class="line-number" value="287"></td><td class="line-content">				while( pts[m-1].a&gt;ma/2 ) {</td></tr><tr><td class="line-number" value="288"></td><td class="line-content">					pts.splice(m-1,1);</td></tr><tr><td class="line-number" value="289"></td><td class="line-content">					m--;</td></tr><tr><td class="line-number" value="290"></td><td class="line-content">					pn--;	</td></tr><tr><td class="line-number" value="291"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="292"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="293"></td><td class="line-content">				for( var i=pn; i&gt;=0; i-- ) {</td></tr><tr><td class="line-number" value="294"></td><td class="line-content">					var bp = pts[i],</td></tr><tr><td class="line-number" value="295"></td><td class="line-content">						na = ma-bp.a;					</td></tr><tr><td class="line-number" value="296"></td><td class="line-content">					addpts( pt( bp.r, na ) );</td></tr><tr><td class="line-number" value="297"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="298"></td><td class="line-content">				// repeat</td></tr><tr><td class="line-number" value="299"></td><td class="line-content">				for( var i=1,m=pts.length; i&lt;N; i++ ) {</td></tr><tr><td class="line-number" value="300"></td><td class="line-content">					for( var p=0; p&lt;m; p++ ) {</td></tr><tr><td class="line-number" value="301"></td><td class="line-content">						var bp = pts[p],</td></tr><tr><td class="line-number" value="302"></td><td class="line-content">							na = bp.a+fa*i;</td></tr><tr><td class="line-number" value="303"></td><td class="line-content">						addpts( pt( bp.r, na ) );</td></tr><tr><td class="line-number" value="304"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="305"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="306"></td><td class="line-content">				// print points</td></tr><tr><td class="line-number" value="307"></td><td class="line-content">				out += '&lt;polygon id="gearpoly'+ID+'" data-id="'+ID+'" class="gear" fill="#ddd" stroke="#444" stroke-width="1" stroke-miterlimit="10" points="';</td></tr><tr><td class="line-number" value="308"></td><td class="line-content">				for( var i=0; i&lt;pts.length; i++ ) {</td></tr><tr><td class="line-number" value="309"></td><td class="line-content">					var point = polarToLinear( pts[i] );</td></tr><tr><td class="line-number" value="310"></td><td class="line-content">					out += fix6(point.x*sc)+','+fix6(point.y*sc)+' ';</td></tr><tr><td class="line-number" value="311"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="312"></td><td class="line-content">				out += '"/&gt;';</td></tr><tr><td class="line-number" value="313"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="314"></td><td class="line-content">				// center cross</td></tr><tr><td class="line-number" value="315"></td><td class="line-content">				out += '&lt;g class="guides"&gt;&lt;polyline fill="none" stroke="#444" stroke-width="0.5" stroke-miterlimit="10" points="';</td></tr><tr><td class="line-number" value="316"></td><td class="line-content">				out += '10,0 -10,0"/&gt;';</td></tr><tr><td class="line-number" value="317"></td><td class="line-content">				out += '&lt;polyline fill="none" stroke="#444" stroke-width="0.5" stroke-miterlimit="10" points="';</td></tr><tr><td class="line-number" value="318"></td><td class="line-content">				out += '0,10 0,-10"/&gt;&lt;/g&gt;';</td></tr><tr><td class="line-number" value="319"></td><td class="line-content">				// first tooth marker</td></tr><tr><td class="line-number" value="320"></td><td class="line-content">				var zpr = 1.57/P*sc/4;</td></tr><tr><td class="line-number" value="321"></td><td class="line-content">					zp = polarToLinear( pt( D/2, ma/2 ) );</td></tr><tr><td class="line-number" value="322"></td><td class="line-content">				out += '&lt;circle fill="#c00" class="firstmarker" stroke="none" stroke-miterlimit="10" cx="'+fix6(zp.x*sc)+'" cy="'+fix6(zp.y*sc)+'" r="'+fix6(zpr)+'"/&gt;';</td></tr><tr><td class="line-number" value="323"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="324"></td><td class="line-content">				// text on wheel</td></tr><tr><td class="line-number" value="325"></td><td class="line-content">				var tdata = makeText("*"+ID+" N="+N+" Pitch D="+fix2(D)+" P="+fix2(P)+" PA="+fix2(PA), 2),</td></tr><tr><td class="line-number" value="326"></td><td class="line-content">					textH = (RD/2)/7/6,	// betu magassaga (/6 a pixelmagassag miatt)</td></tr><tr><td class="line-number" value="327"></td><td class="line-content">					textH = textH&gt;0.03?0.03:textH,</td></tr><tr><td class="line-number" value="328"></td><td class="line-content">					textB = (RD/2)-textH*10,	// alapvonal 75%-nal</td></tr><tr><td class="line-number" value="329"></td><td class="line-content">					plotAngle = 180/((textB*Math.PI)/textH);</td></tr><tr><td class="line-number" value="330"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="331"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="332"></td><td class="line-content">				out += '&lt;g class="geartext"&gt;'+renderSVGPrecisionPolarText( tdata, textB, textH, plotAngle, sc )+'&lt;/g&gt;';</td></tr><tr><td class="line-number" value="333"></td><td class="line-content">				// guides</td></tr><tr><td class="line-number" value="334"></td><td class="line-content">				out += '&lt;g class="guides gearguides" opacity="0.2"&gt;';	</td></tr><tr><td class="line-number" value="335"></td><td class="line-content">				out += '&lt;circle class="pitch" fill="none" stroke="#f00" stroke-miterlimit="10" cx="0" cy="0" r="'+fix2((D/2)*sc)+'"/&gt;'; // pitch circle</td></tr><tr><td class="line-number" value="336"></td><td class="line-content">				//out += '&lt;circle class="root" fill="none" stroke="#ccc" stroke-miterlimit="10" cx="0" cy="0" r="'+fix2((RD/2)*sc)+'"/&gt;'; // Root circle</td></tr><tr><td class="line-number" value="337"></td><td class="line-content">				out += '&lt;circle class="outer" fill="none" stroke="#ccc" stroke-miterlimit="10" stroke-dasharray="2,2" cx="0" cy="0" r="'+fix2((OD/2)*sc)+'"/&gt;'; // Outer circle</td></tr><tr><td class="line-number" value="338"></td><td class="line-content">				out += '&lt;circle class="base" fill="none" stroke="#00f" stroke-miterlimit="10" stroke-dasharray="2,2" cx="0" cy="0" r="'+fix2((BC/2)*sc)+'"/&gt;'; // Base circle</td></tr><tr><td class="line-number" value="339"></td><td class="line-content">				out += '&lt;/g&gt;';</td></tr><tr><td class="line-number" value="340"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="341"></td><td class="line-content">				out += '&lt;/svg&gt;';</td></tr><tr><td class="line-number" value="342"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="343"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="344"></td><td class="line-content">				return { svg: out, gearangle: fa, baseangle: ac, Rsc: D*sc/2, w: w, h: h };</td></tr><tr><td class="line-number" value="345"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="346"></td><td class="line-content">			function linearToPolar( c ) {</td></tr><tr><td class="line-number" value="347"></td><td class="line-content">				var x = c.x, y = c.y, r, a;</td></tr><tr><td class="line-number" value="348"></td><td class="line-content">				//var AM = 180/Math.PI;</td></tr><tr><td class="line-number" value="349"></td><td class="line-content">				r = Math.sqrt( x*x + y*y );</td></tr><tr><td class="line-number" value="350"></td><td class="line-content">				a = Math.asin( y/r )*AM;</td></tr><tr><td class="line-number" value="351"></td><td class="line-content">				if( x&lt;0 ) a = 180-a;</td></tr><tr><td class="line-number" value="352"></td><td class="line-content">				a = (a+360)%360;</td></tr><tr><td class="line-number" value="353"></td><td class="line-content">				return { r: r, a: a }</td></tr><tr><td class="line-number" value="354"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="355"></td><td class="line-content">			function polarToLinear( p ) {</td></tr><tr><td class="line-number" value="356"></td><td class="line-content">				var r = p.r, a = p.a, x, y;</td></tr><tr><td class="line-number" value="357"></td><td class="line-content">				//var AM = 180/Math.PI;</td></tr><tr><td class="line-number" value="358"></td><td class="line-content">				a = ((a+360)%360)/AM;</td></tr><tr><td class="line-number" value="359"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="360"></td><td class="line-content">				x = Math.cos( a )*r;</td></tr><tr><td class="line-number" value="361"></td><td class="line-content">				y = -Math.sin( a )*r;</td></tr><tr><td class="line-number" value="362"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="363"></td><td class="line-content">				return { x: x, y: y }</td></tr><tr><td class="line-number" value="364"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="365"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="366"></td><td class="line-content">			function fix2( v ) {</td></tr><tr><td class="line-number" value="367"></td><td class="line-content">				return Math.round( 100*v )/100;</td></tr><tr><td class="line-number" value="368"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="369"></td><td class="line-content">			function fix6( v ) {</td></tr><tr><td class="line-number" value="370"></td><td class="line-content">				return Math.round( 10000*v )/10000;</td></tr><tr><td class="line-number" value="371"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="372"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="373"></td><td class="line-content">			function createSVGgrid( sc ) {</td></tr><tr><td class="line-number" value="374"></td><td class="line-content">				/*var cl = $("body").attr("class"),</td></tr><tr><td class="line-number" value="375"></td><td class="line-content">					col;</td></tr><tr><td class="line-number" value="376"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="377"></td><td class="line-content">				if(cl=="col0") col = "#888";</td></tr><tr><td class="line-number" value="378"></td><td class="line-content">				if(cl=="col1") col = "#fff";</td></tr><tr><td class="line-number" value="379"></td><td class="line-content">				if(cl=="col2") col = "#888";*/</td></tr><tr><td class="line-number" value="380"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="381"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="382"></td><td class="line-content">				var col = ["#888","#fff","#888"][theme],</td></tr><tr><td class="line-number" value="383"></td><td class="line-content">					subd = 10,</td></tr><tr><td class="line-number" value="384"></td><td class="line-content">					weight = 1,</td></tr><tr><td class="line-number" value="385"></td><td class="line-content">					scdot = sc+0.5;</td></tr><tr><td class="line-number" value="386"></td><td class="line-content">					out = '&lt;svg version="1.2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="'+sc+'px" height="'+sc+'px" viewBox="0 0 '+sc+' '+sc+'" xml:space="preserve"&gt;';	//+out+'&lt;/svg&gt;';</td></tr><tr><td class="line-number" value="387"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="388"></td><td class="line-content">				out += '&lt;g class="grid" stroke="'+col+'" opacity="0.2"&gt;'</td></tr><tr><td class="line-number" value="389"></td><td class="line-content">				out += '&lt;polyline fill="none" stroke-width="'+weight+'" stroke-linecap="square" stroke-miterlimit="2"  points="';</td></tr><tr><td class="line-number" value="390"></td><td class="line-content">				out += '0.5 '+scdot+' 0.5 0.5 '+scdot+' 0.5"&gt;&lt;/polyline&gt;';</td></tr><tr><td class="line-number" value="391"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="392"></td><td class="line-content">				for( var i=1; i&lt;10; i++ ) {</td></tr><tr><td class="line-number" value="393"></td><td class="line-content">					var pos = (sc/10)*i+0.5;</td></tr><tr><td class="line-number" value="394"></td><td class="line-content">					out += '&lt;polyline fill="none" stroke-width="'+(weight/2)+'" stroke-linecap="square" stroke-miterlimit="2"  points="0.5 '+pos+' '+scdot+' '+pos+'"&gt;&lt;/polyline&gt;';</td></tr><tr><td class="line-number" value="395"></td><td class="line-content">					out += '&lt;polyline fill="none" stroke-width="'+(weight/2)+'" stroke-linecap="square" stroke-miterlimit="2"  points="'+pos+' 0.5 '+pos+' '+scdot+'"&gt;&lt;/polyline&gt;';</td></tr><tr><td class="line-number" value="396"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="397"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="398"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="399"></td><td class="line-content">				out += '&lt;/g&gt;&lt;/svg&gt;';</td></tr><tr><td class="line-number" value="400"></td><td class="line-content">				return out;</td></tr><tr><td class="line-number" value="401"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="402"></td><td class="line-content">			function makeGrid() {</td></tr><tr><td class="line-number" value="403"></td><td class="line-content">				if( grid ) {</td></tr><tr><td class="line-number" value="404"></td><td class="line-content">					var svg = createSVGgrid( getscale() ),</td></tr><tr><td class="line-number" value="405"></td><td class="line-content">						b64 = 'data:image/svg+xml;base64,' + window.btoa(svg),</td></tr><tr><td class="line-number" value="406"></td><td class="line-content">						url = 'url("' + b64 + '")';				</td></tr><tr><td class="line-number" value="407"></td><td class="line-content">				} else {</td></tr><tr><td class="line-number" value="408"></td><td class="line-content">					var url = "none";</td></tr><tr><td class="line-number" value="409"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="410"></td><td class="line-content">				$('#screen').css('backgroundImage', url);</td></tr><tr><td class="line-number" value="411"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="412"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="413"></td><td class="line-content">			// -------------- FONT</td></tr><tr><td class="line-number" value="414"></td><td class="line-content">			function getchardata( chr ) {</td></tr><tr><td class="line-number" value="415"></td><td class="line-content">				var i=font[0].lastIndexOf( chr ),</td></tr><tr><td class="line-number" value="416"></td><td class="line-content">					data=[];</td></tr><tr><td class="line-number" value="417"></td><td class="line-content">				if( i&gt;-1 ) {</td></tr><tr><td class="line-number" value="418"></td><td class="line-content">					var chdata = font[2].split(" ")[i],</td></tr><tr><td class="line-number" value="419"></td><td class="line-content">						l = 0;</td></tr><tr><td class="line-number" value="420"></td><td class="line-content">					data[0] = Number(chdata.substr(0,1));</td></tr><tr><td class="line-number" value="421"></td><td class="line-content">					for( var p=0,pi; p&lt;chdata.length; p++ ) {</td></tr><tr><td class="line-number" value="422"></td><td class="line-content">						pi = getindex( chdata.charCodeAt(p) );</td></tr><tr><td class="line-number" value="423"></td><td class="line-content">						if( pi&lt;0 ) data[++l] = [];</td></tr><tr><td class="line-number" value="424"></td><td class="line-content">						else data[l].push( font[1].substr( pi ,2 ) );</td></tr><tr><td class="line-number" value="425"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="426"></td><td class="line-content">				} else data[0]=chr==" "?3:-1;</td></tr><tr><td class="line-number" value="427"></td><td class="line-content">				return data;</td></tr><tr><td class="line-number" value="428"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="429"></td><td class="line-content">			function getindex( code ) {</td></tr><tr><td class="line-number" value="430"></td><td class="line-content">				code-=65;</td></tr><tr><td class="line-number" value="431"></td><td class="line-content">				code&gt;25&amp;&amp;(code-=6);</td></tr><tr><td class="line-number" value="432"></td><td class="line-content">				return code*2;</td></tr><tr><td class="line-number" value="433"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="434"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="435"></td><td class="line-content">			function makeText( txt, chs ) {</td></tr><tr><td class="line-number" value="436"></td><td class="line-content">				var width,</td></tr><tr><td class="line-number" value="437"></td><td class="line-content">					pos = 0,</td></tr><tr><td class="line-number" value="438"></td><td class="line-content">					data = [0];</td></tr><tr><td class="line-number" value="439"></td><td class="line-content">				chs = chs==undefined?1: chs;</td></tr><tr><td class="line-number" value="440"></td><td class="line-content">				for( var i=0, cdata; i&lt;txt.length; i++ ) {</td></tr><tr><td class="line-number" value="441"></td><td class="line-content">					cdata = getchardata( txt.substr( i, 1 ) );</td></tr><tr><td class="line-number" value="442"></td><td class="line-content">					if( cdata[0]&gt;=0 ) {</td></tr><tr><td class="line-number" value="443"></td><td class="line-content">						for(var l=1; l&lt;cdata.length; l++ ) {</td></tr><tr><td class="line-number" value="444"></td><td class="line-content">							for( var p=0, pt, line=[]; p&lt;cdata[l].length; p++ ) {</td></tr><tr><td class="line-number" value="445"></td><td class="line-content">								pt = cdata[l][p].split("");</td></tr><tr><td class="line-number" value="446"></td><td class="line-content">								line.push( { x: Number(pt[0])+pos, y: Number(pt[1]) } );</td></tr><tr><td class="line-number" value="447"></td><td class="line-content">							}</td></tr><tr><td class="line-number" value="448"></td><td class="line-content">							data.push( line );</td></tr><tr><td class="line-number" value="449"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="450"></td><td class="line-content">						pos += chs+cdata[0];						</td></tr><tr><td class="line-number" value="451"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="452"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="453"></td><td class="line-content">				if( pos&gt;0 ) data[0] = pos-1;</td></tr><tr><td class="line-number" value="454"></td><td class="line-content">				return data;</td></tr><tr><td class="line-number" value="455"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="456"></td><td class="line-content">			function renderSVGLinearText( tdata, textB, pixH, weight ) {</td></tr><tr><td class="line-number" value="457"></td><td class="line-content">				var out = '&lt;g class="text"&gt;',</td></tr><tr><td class="line-number" value="458"></td><td class="line-content">					add = weight/2;</td></tr><tr><td class="line-number" value="459"></td><td class="line-content">				if( add&lt;0.5 ) add = 0.5;</td></tr><tr><td class="line-number" value="460"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="461"></td><td class="line-content">				for( var i=1; i&lt;tdata.length; i++ ) {				</td></tr><tr><td class="line-number" value="462"></td><td class="line-content">					out += '&lt;polyline fill="none" stroke="#444" stroke-width="'+weight+'" stroke-linecap="square" stroke-miterlimit="2"  points="';</td></tr><tr><td class="line-number" value="463"></td><td class="line-content">					for( var p=0; p&lt;tdata[i].length; p++ ) {</td></tr><tr><td class="line-number" value="464"></td><td class="line-content">						out += (tdata[i][p].x*pixH+add) + " " + (textB-tdata[i][p].y*pixH+add) + " ";</td></tr><tr><td class="line-number" value="465"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="466"></td><td class="line-content">					out += '"/&gt;';</td></tr><tr><td class="line-number" value="467"></td><td class="line-content">				}				</td></tr><tr><td class="line-number" value="468"></td><td class="line-content">				out += "&lt;/g&gt;";</td></tr><tr><td class="line-number" value="469"></td><td class="line-content">				return out;</td></tr><tr><td class="line-number" value="470"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="471"></td><td class="line-content">			function renderSVGPolarText( tdata, textB, pixH, plotAngle, sc ) {</td></tr><tr><td class="line-number" value="472"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="473"></td><td class="line-content">				var angularLength = tdata[0]*plotAngle,		// angular length of the text</td></tr><tr><td class="line-number" value="474"></td><td class="line-content">					ba = angularLength/2,					// base angle</td></tr><tr><td class="line-number" value="475"></td><td class="line-content">					out = '&lt;g class="text"&gt;';</td></tr><tr><td class="line-number" value="476"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="477"></td><td class="line-content">				for( var i=1; i&lt;tdata.length; i++ ) {				</td></tr><tr><td class="line-number" value="478"></td><td class="line-content">					out += '&lt;polyline fill="none" stroke="#444" stroke-width="0.5" stroke-linecap="square" stroke-miterlimit="1"  points="';</td></tr><tr><td class="line-number" value="479"></td><td class="line-content">					for( var p=0, a, r, dot; p&lt;tdata[i].length; p++ ) {</td></tr><tr><td class="line-number" value="480"></td><td class="line-content">						a = -tdata[i][p].x * plotAngle + ba;											</td></tr><tr><td class="line-number" value="481"></td><td class="line-content">						r = (tdata[i][p].y-5) * pixH + textB;</td></tr><tr><td class="line-number" value="482"></td><td class="line-content">						dot = polarToLinear( { r: r, a: a } );						</td></tr><tr><td class="line-number" value="483"></td><td class="line-content">						out += dot.x*sc + " " + dot.y*sc + " ";</td></tr><tr><td class="line-number" value="484"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="485"></td><td class="line-content">					out += '"/&gt;';</td></tr><tr><td class="line-number" value="486"></td><td class="line-content">				}				</td></tr><tr><td class="line-number" value="487"></td><td class="line-content">				out += "&lt;/g&gt;";</td></tr><tr><td class="line-number" value="488"></td><td class="line-content">				return out;</td></tr><tr><td class="line-number" value="489"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="490"></td><td class="line-content">			function renderSVGPrecisionPolarText( tdata, textB, pixH, plotAngle, sc ) {</td></tr><tr><td class="line-number" value="491"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="492"></td><td class="line-content">				var angularLength = tdata[0]*plotAngle,		// angular length of the text</td></tr><tr><td class="line-number" value="493"></td><td class="line-content">					ba = angularLength/2,					// base angle</td></tr><tr><td class="line-number" value="494"></td><td class="line-content">					out = '&lt;g class="text"&gt;';</td></tr><tr><td class="line-number" value="495"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="496"></td><td class="line-content">				for( var i=1; i&lt;tdata.length; i++ ) {				</td></tr><tr><td class="line-number" value="497"></td><td class="line-content">					out += '&lt;polyline fill="none" stroke="#444" stroke-width="0.5" stroke-linecap="square" stroke-miterlimit="1"  points="';</td></tr><tr><td class="line-number" value="498"></td><td class="line-content">					for( var p=0, a, r, dot, dx, inc, lx, ly, x, y, mp=tdata[i].length; p&lt;mp; p++ ) {</td></tr><tr><td class="line-number" value="499"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="500"></td><td class="line-content">						x = tdata[i][p].x;</td></tr><tr><td class="line-number" value="501"></td><td class="line-content">						y = tdata[i][p].y;</td></tr><tr><td class="line-number" value="502"></td><td class="line-content">						if( p==0 ) { </td></tr><tr><td class="line-number" value="503"></td><td class="line-content">							lx = x;</td></tr><tr><td class="line-number" value="504"></td><td class="line-content">							ly = y</td></tr><tr><td class="line-number" value="505"></td><td class="line-content">							a = -lx * plotAngle + ba;											</td></tr><tr><td class="line-number" value="506"></td><td class="line-content">							r = (ly-5) * pixH + textB;</td></tr><tr><td class="line-number" value="507"></td><td class="line-content">							dot = polarToLinear( { r: r, a: a } );						</td></tr><tr><td class="line-number" value="508"></td><td class="line-content">							out += fix2(dot.x*sc) + " " +fix2(dot.y*sc) + " ";</td></tr><tr><td class="line-number" value="509"></td><td class="line-content">						} else {</td></tr><tr><td class="line-number" value="510"></td><td class="line-content">							dx = Math.abs( x-lx );</td></tr><tr><td class="line-number" value="511"></td><td class="line-content">							if( dx==0 ) {</td></tr><tr><td class="line-number" value="512"></td><td class="line-content">								dx=1;</td></tr><tr><td class="line-number" value="513"></td><td class="line-content">							}</td></tr><tr><td class="line-number" value="514"></td><td class="line-content">							ix = ( x-lx )/dx;</td></tr><tr><td class="line-number" value="515"></td><td class="line-content">							iy = ( y-ly )/dx;</td></tr><tr><td class="line-number" value="516"></td><td class="line-content">							for( var s=1, X, Y; s&lt;=dx; s++ ) {</td></tr><tr><td class="line-number" value="517"></td><td class="line-content">								Y = ly + iy*s;</td></tr><tr><td class="line-number" value="518"></td><td class="line-content">								X = lx + ix*s;</td></tr><tr><td class="line-number" value="519"></td><td class="line-content">								a = -X * plotAngle + ba;											</td></tr><tr><td class="line-number" value="520"></td><td class="line-content">								r = (Y-5) * pixH + textB;</td></tr><tr><td class="line-number" value="521"></td><td class="line-content">								dot = polarToLinear( { r: r, a: a } );						</td></tr><tr><td class="line-number" value="522"></td><td class="line-content">								out += fix2(dot.x*sc) + " " + fix2(dot.y*sc) + " ";</td></tr><tr><td class="line-number" value="523"></td><td class="line-content">							}</td></tr><tr><td class="line-number" value="524"></td><td class="line-content">							lx = x;</td></tr><tr><td class="line-number" value="525"></td><td class="line-content">							ly = y;</td></tr><tr><td class="line-number" value="526"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="527"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="528"></td><td class="line-content">					out += '"/&gt;';</td></tr><tr><td class="line-number" value="529"></td><td class="line-content">				}				</td></tr><tr><td class="line-number" value="530"></td><td class="line-content">				out += "&lt;/g&gt;";</td></tr><tr><td class="line-number" value="531"></td><td class="line-content">				return out;</td></tr><tr><td class="line-number" value="532"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="533"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="534"></td><td class="line-content">			function replaceWithSVGText( selection, upperCase, pixH, weight, chs  ) {</td></tr><tr><td class="line-number" value="535"></td><td class="line-content">				pixH = pixH || 1;</td></tr><tr><td class="line-number" value="536"></td><td class="line-content">				chs = chs==undefined? 2: chs;</td></tr><tr><td class="line-number" value="537"></td><td class="line-content">				weight = weight || 1;</td></tr><tr><td class="line-number" value="538"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="539"></td><td class="line-content">				var txt = selection.html();</td></tr><tr><td class="line-number" value="540"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="541"></td><td class="line-content">				if( upperCase ) txt = txt.toUpperCase();</td></tr><tr><td class="line-number" value="542"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="543"></td><td class="line-content">				var tdata = makeText( txt, chs ),</td></tr><tr><td class="line-number" value="544"></td><td class="line-content">					w = tdata[0]*pixH+weight,</td></tr><tr><td class="line-number" value="545"></td><td class="line-content">					h = pixH*8+weight,</td></tr><tr><td class="line-number" value="546"></td><td class="line-content">					out = renderSVGLinearText( tdata, pixH*8, pixH, weight );</td></tr><tr><td class="line-number" value="547"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="548"></td><td class="line-content">				out = '&lt;svg version="1.2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="'+w+'px" height="'+h+'px" viewBox="0 0 '+w+' '+h+'" xml:space="preserve"&gt;'+out+'&lt;/svg&gt;';</td></tr><tr><td class="line-number" value="549"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="550"></td><td class="line-content">				selection.html( out );</td></tr><tr><td class="line-number" value="551"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="552"></td><td class="line-content">			// --------------------------------------------------------------------------------------------------</td></tr><tr><td class="line-number" value="553"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="554"></td><td class="line-content">			function addNewGear() {</td></tr><tr><td class="line-number" value="555"></td><td class="line-content">				if( selectedgear&lt;0 ) return;</td></tr><tr><td class="line-number" value="556"></td><td class="line-content">				var gear = gears[selectedgear],</td></tr><tr><td class="line-number" value="557"></td><td class="line-content">					P = gear.P,</td></tr><tr><td class="line-number" value="558"></td><td class="line-content">					N = 13,</td></tr><tr><td class="line-number" value="559"></td><td class="line-content">					D = N/P,</td></tr><tr><td class="line-number" value="560"></td><td class="line-content">					PA = gear.PA;</td></tr><tr><td class="line-number" value="561"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="562"></td><td class="line-content">				addGear( gear, false, N, D, P, PA );</td></tr><tr><td class="line-number" value="563"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="564"></td><td class="line-content">			function addGear( parentgear, axlejoint, N, D, P, PA, A ) {</td></tr><tr><td class="line-number" value="565"></td><td class="line-content">				parentgear = parentgear || defaultgear;</td></tr><tr><td class="line-number" value="566"></td><td class="line-content">				axlejoint = axlejoint || false;</td></tr><tr><td class="line-number" value="567"></td><td class="line-content">				N = N || parentgear.N;</td></tr><tr><td class="line-number" value="568"></td><td class="line-content">				D = D || parentgear.D;</td></tr><tr><td class="line-number" value="569"></td><td class="line-content">				P = P || parentgear.P;</td></tr><tr><td class="line-number" value="570"></td><td class="line-content">				PA = PA || parentgear.PA;</td></tr><tr><td class="line-number" value="571"></td><td class="line-content">				A = A==undefined? parentgear.jointangle: A;</td></tr><tr><td class="line-number" value="572"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="573"></td><td class="line-content">				var ID = addGearData( parentgear.ID, axlejoint, N, D, P, PA, A ).ID;</td></tr><tr><td class="line-number" value="574"></td><td class="line-content">				addGearDataProcess( ID );</td></tr><tr><td class="line-number" value="575"></td><td class="line-content">				updateGearDOM( ID );</td></tr><tr><td class="line-number" value="576"></td><td class="line-content">				positionGears( ID );</td></tr><tr><td class="line-number" value="577"></td><td class="line-content">				rotateGears( ID );</td></tr><tr><td class="line-number" value="578"></td><td class="line-content">				selectGear( ID );</td></tr><tr><td class="line-number" value="579"></td><td class="line-content">				updateHash();</td></tr><tr><td class="line-number" value="580"></td><td class="line-content">				setListItemText( ID );</td></tr><tr><td class="line-number" value="581"></td><td class="line-content">				maxSize();</td></tr><tr><td class="line-number" value="582"></td><td class="line-content">				return gears[ID];</td></tr><tr><td class="line-number" value="583"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="584"></td><td class="line-content">			function addGearData( parentgearID, axlejoint, N, D, P, PA, A ) {</td></tr><tr><td class="line-number" value="585"></td><td class="line-content">				var ID = gears.length,</td></tr><tr><td class="line-number" value="586"></td><td class="line-content">					thegear = createGear( N, D, P, PA, ID ),</td></tr><tr><td class="line-number" value="587"></td><td class="line-content">					newgear = {</td></tr><tr><td class="line-number" value="588"></td><td class="line-content">						ID:			ID,</td></tr><tr><td class="line-number" value="589"></td><td class="line-content">						parentID:	parentgearID,</td></tr><tr><td class="line-number" value="590"></td><td class="line-content">						axlejoint:	axlejoint,</td></tr><tr><td class="line-number" value="591"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="592"></td><td class="line-content">						N:			N,</td></tr><tr><td class="line-number" value="593"></td><td class="line-content">						D:			D,</td></tr><tr><td class="line-number" value="594"></td><td class="line-content">						P: 			P,</td></tr><tr><td class="line-number" value="595"></td><td class="line-content">						PA:			PA,</td></tr><tr><td class="line-number" value="596"></td><td class="line-content">						// ez az uj fogaskerekbol adodik</td></tr><tr><td class="line-number" value="597"></td><td class="line-content">						rot:		0,		// ezt nem igy persze</td></tr><tr><td class="line-number" value="598"></td><td class="line-content">						gearangle:	thegear.gearangle,				</td></tr><tr><td class="line-number" value="599"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="600"></td><td class="line-content">						ratio:		1,</td></tr><tr><td class="line-number" value="601"></td><td class="line-content">						totalratio: 1,</td></tr><tr><td class="line-number" value="602"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="603"></td><td class="line-content">						jointangle:	A,			// default, hogy alatta...</td></tr><tr><td class="line-number" value="604"></td><td class="line-content">						baseangle:	thegear.baseangle,</td></tr><tr><td class="line-number" value="605"></td><td class="line-content">					//	geardata:	createGear( N,D,P ),</td></tr><tr><td class="line-number" value="606"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="607"></td><td class="line-content">						Rsc:		thegear.Rsc,</td></tr><tr><td class="line-number" value="608"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="609"></td><td class="line-content">						svg:		thegear.svg,</td></tr><tr><td class="line-number" value="610"></td><td class="line-content">						svgwidth:	thegear.w,		// fogaskerek svg merete.</td></tr><tr><td class="line-number" value="611"></td><td class="line-content">						svgheight:	thegear.h,</td></tr><tr><td class="line-number" value="612"></td><td class="line-content">						svgoffsetx:	-thegear.w/2,		// svg offset a kozeppont pozicionalasahoz</td></tr><tr><td class="line-number" value="613"></td><td class="line-content">						svgoffsety:	-thegear.h/2,</td></tr><tr><td class="line-number" value="614"></td><td class="line-content">						offsetx:	0,</td></tr><tr><td class="line-number" value="615"></td><td class="line-content">						offsety:	0,</td></tr><tr><td class="line-number" value="616"></td><td class="line-content">						x:			0,			// aktualis pozicio, ezt ki kell szamolni a csatlakozas szogebol, tavolsagabol.</td></tr><tr><td class="line-number" value="617"></td><td class="line-content">						y:			0,</td></tr><tr><td class="line-number" value="618"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="619"></td><td class="line-content">						childIDs:	[]</td></tr><tr><td class="line-number" value="620"></td><td class="line-content">					};</td></tr><tr><td class="line-number" value="621"></td><td class="line-content">				gears[ID] = newgear;</td></tr><tr><td class="line-number" value="622"></td><td class="line-content">				return gears[ID];</td></tr><tr><td class="line-number" value="623"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="624"></td><td class="line-content">			function addGearDataProcess( ID ) {</td></tr><tr><td class="line-number" value="625"></td><td class="line-content">				var newgear = gears[ID],</td></tr><tr><td class="line-number" value="626"></td><td class="line-content">					parentID = newgear.parentID,</td></tr><tr><td class="line-number" value="627"></td><td class="line-content">					parentgear = (newgear.parentID&lt;0)? defaultgear: gears[newgear.parentID];</td></tr><tr><td class="line-number" value="628"></td><td class="line-content">							</td></tr><tr><td class="line-number" value="629"></td><td class="line-content">				if( parentgear.ID &gt;= 0 ) {</td></tr><tr><td class="line-number" value="630"></td><td class="line-content">					gears[parentgear.ID].childIDs.push( ID );</td></tr><tr><td class="line-number" value="631"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="632"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="633"></td><td class="line-content">				// add gear to DOM</td></tr><tr><td class="line-number" value="634"></td><td class="line-content">				$("#screen").append( '&lt;div id="gearcontainer'+ID+'" class="svg"&gt;'+newgear.svg+'&lt;/div&gt;' );</td></tr><tr><td class="line-number" value="635"></td><td class="line-content">				$("#gearselector").append( '&lt;li id="gearlistitem'+ID+'" data-id="'+ID+'" class="listitem"&gt;&lt;/li&gt;' );</td></tr><tr><td class="line-number" value="636"></td><td class="line-content">				$("#gearlistitem"+ID).bind( "click", selectionClick );</td></tr><tr><td class="line-number" value="637"></td><td class="line-content">				setGearEvents( ID );</td></tr><tr><td class="line-number" value="638"></td><td class="line-content">				setListItemText( ID );</td></tr><tr><td class="line-number" value="639"></td><td class="line-content">				return gears[ID];</td></tr><tr><td class="line-number" value="640"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="641"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="642"></td><td class="line-content">			function selectionClick() {</td></tr><tr><td class="line-number" value="643"></td><td class="line-content">				var ID = Number($(this).attr("data-id"));</td></tr><tr><td class="line-number" value="644"></td><td class="line-content">				if( ID == undefined ) return false;</td></tr><tr><td class="line-number" value="645"></td><td class="line-content">				selectGear( ID );</td></tr><tr><td class="line-number" value="646"></td><td class="line-content">				updateHash();</td></tr><tr><td class="line-number" value="647"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="648"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="649"></td><td class="line-content">			function removeGear() {</td></tr><tr><td class="line-number" value="650"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="651"></td><td class="line-content">				//console.log(" childs: "+getTotalChildNumber( ID ));</td></tr><tr><td class="line-number" value="652"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="653"></td><td class="line-content">				var ID = selectedgear,</td></tr><tr><td class="line-number" value="654"></td><td class="line-content">					newgears = [],</td></tr><tr><td class="line-number" value="655"></td><td class="line-content">					oldIDs = [],</td></tr><tr><td class="line-number" value="656"></td><td class="line-content">					chg = getTotalChildNumber( ID );</td></tr><tr><td class="line-number" value="657"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="658"></td><td class="line-content">				if( chg&gt;0 ) {</td></tr><tr><td class="line-number" value="659"></td><td class="line-content">				    if (!confirm("This gear have "+chg+" child gear"+(chg&gt;1?"s":"")+".\nChild gears will be also removed!")) return;</td></tr><tr><td class="line-number" value="660"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="661"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="662"></td><td class="line-content">				selectedgear = removeAllGears( ID );</td></tr><tr><td class="line-number" value="663"></td><td class="line-content">				if( selectedgear&lt;0 ) selectedgear = 0;</td></tr><tr><td class="line-number" value="664"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="665"></td><td class="line-content">				//console.log( gears );</td></tr><tr><td class="line-number" value="666"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="667"></td><td class="line-content">				// delete gear</td></tr><tr><td class="line-number" value="668"></td><td class="line-content">				for( var i=0, newID=0; i&lt;gears.length; i++ ) {</td></tr><tr><td class="line-number" value="669"></td><td class="line-content">					if( gears[i] ) {</td></tr><tr><td class="line-number" value="670"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="671"></td><td class="line-content">						newgears[newID] = gears[i];</td></tr><tr><td class="line-number" value="672"></td><td class="line-content">						oldIDs[newID++] = i;</td></tr><tr><td class="line-number" value="673"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="674"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="675"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="676"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="677"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="678"></td><td class="line-content">				gears = newgears;</td></tr><tr><td class="line-number" value="679"></td><td class="line-content">				for( var i=0; i&lt;gears.length; i++ ) {</td></tr><tr><td class="line-number" value="680"></td><td class="line-content">					changeID( oldIDs[i], i );</td></tr><tr><td class="line-number" value="681"></td><td class="line-content">					$("#gearlistitem"+oldIDs[i]).attr("id","gearlistitem"+i).attr("data-id", i );</td></tr><tr><td class="line-number" value="682"></td><td class="line-content">					$("#gearcontainer"+oldIDs[i]).attr("id","gearcontainer"+i);</td></tr><tr><td class="line-number" value="683"></td><td class="line-content">					$("#gearpoly"+oldIDs[i]).attr("id","gearpoly"+i).attr("data-id", i );</td></tr><tr><td class="line-number" value="684"></td><td class="line-content">					if( selectedgear == oldIDs[i] ) selectedgear = i;</td></tr><tr><td class="line-number" value="685"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="686"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="687"></td><td class="line-content">				selectGear( selectedgear );</td></tr><tr><td class="line-number" value="688"></td><td class="line-content">				renderAllGears();</td></tr><tr><td class="line-number" value="689"></td><td class="line-content">				updateHash();</td></tr><tr><td class="line-number" value="690"></td><td class="line-content">				updateListItemText(0);</td></tr><tr><td class="line-number" value="691"></td><td class="line-content">				maxSize();</td></tr><tr><td class="line-number" value="692"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="693"></td><td class="line-content">			function removeAllGears( ID ) {</td></tr><tr><td class="line-number" value="694"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="695"></td><td class="line-content">				var	gear = gears[ID],</td></tr><tr><td class="line-number" value="696"></td><td class="line-content">					pi = gear.parentID,</td></tr><tr><td class="line-number" value="697"></td><td class="line-content">					chs = gear.childIDs.slice();</td></tr><tr><td class="line-number" value="698"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="699"></td><td class="line-content">				for( var i=0; i&lt;chs.length; i++ ) {</td></tr><tr><td class="line-number" value="700"></td><td class="line-content">					removeAllGears( chs[i] );</td></tr><tr><td class="line-number" value="701"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="702"></td><td class="line-content">				// remove this ID from parent's child</td></tr><tr><td class="line-number" value="703"></td><td class="line-content">				if( pi&gt;=0 ) {</td></tr><tr><td class="line-number" value="704"></td><td class="line-content">					var parentChilds = gears[pi].childIDs;</td></tr><tr><td class="line-number" value="705"></td><td class="line-content">					parentChilds.splice( parentChilds.lastIndexOf( ID ), 1);</td></tr><tr><td class="line-number" value="706"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="707"></td><td class="line-content">				// delete gear</td></tr><tr><td class="line-number" value="708"></td><td class="line-content">				if( ID&gt;0 ) {</td></tr><tr><td class="line-number" value="709"></td><td class="line-content">					gears[ID] = null;	//.splice( ID, 1 );</td></tr><tr><td class="line-number" value="710"></td><td class="line-content">					$("#gearlistitem"+ID).remove();</td></tr><tr><td class="line-number" value="711"></td><td class="line-content">					$("#gearcontainer"+ID).remove();</td></tr><tr><td class="line-number" value="712"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="713"></td><td class="line-content">				return pi;</td></tr><tr><td class="line-number" value="714"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="715"></td><td class="line-content">				function getTotalChildNumber( ID ) {</td></tr><tr><td class="line-number" value="716"></td><td class="line-content">					var childs = 0,</td></tr><tr><td class="line-number" value="717"></td><td class="line-content">						gear = gears[ID];</td></tr><tr><td class="line-number" value="718"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="719"></td><td class="line-content">					for( var i=0; i&lt;gear.childIDs.length; i++ ) {</td></tr><tr><td class="line-number" value="720"></td><td class="line-content">						childs += 1+getTotalChildNumber( gear.childIDs[i] );</td></tr><tr><td class="line-number" value="721"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="722"></td><td class="line-content">					return childs;</td></tr><tr><td class="line-number" value="723"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="724"></td><td class="line-content">				function isChildOf( chID, ID ) {</td></tr><tr><td class="line-number" value="725"></td><td class="line-content">					var isChild = false,</td></tr><tr><td class="line-number" value="726"></td><td class="line-content">						checkChilds = function( ID ) {</td></tr><tr><td class="line-number" value="727"></td><td class="line-content">							var gear = gears[ID];</td></tr><tr><td class="line-number" value="728"></td><td class="line-content">							if( gear.ID==chID ) isChild=true;</td></tr><tr><td class="line-number" value="729"></td><td class="line-content">							for( var i=0; i&lt;gear.childIDs.length; i++ ) {</td></tr><tr><td class="line-number" value="730"></td><td class="line-content">								//if( gear.childIDs[i]==chID ) isChild=true;</td></tr><tr><td class="line-number" value="731"></td><td class="line-content">								checkChilds( gear.childIDs[i] );</td></tr><tr><td class="line-number" value="732"></td><td class="line-content">							}</td></tr><tr><td class="line-number" value="733"></td><td class="line-content">							</td></tr><tr><td class="line-number" value="734"></td><td class="line-content">						};</td></tr><tr><td class="line-number" value="735"></td><td class="line-content">					checkChilds( ID );</td></tr><tr><td class="line-number" value="736"></td><td class="line-content">					return isChild;</td></tr><tr><td class="line-number" value="737"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="738"></td><td class="line-content">				function changeID( oldID, newID ) {</td></tr><tr><td class="line-number" value="739"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="740"></td><td class="line-content">					for( var i=0; i&lt;gears.length; i++ ) {</td></tr><tr><td class="line-number" value="741"></td><td class="line-content">						if( gears[i].parentID==oldID ) gears[i].parentID = newID;</td></tr><tr><td class="line-number" value="742"></td><td class="line-content">						if( gears[i].ID==oldID ) gears[i].ID = newID;</td></tr><tr><td class="line-number" value="743"></td><td class="line-content">						for( var c=0; c&lt;gears[i].childIDs.length; c++ ) {</td></tr><tr><td class="line-number" value="744"></td><td class="line-content">							if( gears[i].childIDs[c]==oldID ) {</td></tr><tr><td class="line-number" value="745"></td><td class="line-content">								gears[i].childIDs[c] = newID;</td></tr><tr><td class="line-number" value="746"></td><td class="line-content">							}</td></tr><tr><td class="line-number" value="747"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="748"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="749"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="750"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="751"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="752"></td><td class="line-content">			function rotateGears( ID ) {</td></tr><tr><td class="line-number" value="753"></td><td class="line-content">				//console.log("rotate gears "+ID);</td></tr><tr><td class="line-number" value="754"></td><td class="line-content">				// rotate childs (recursive)</td></tr><tr><td class="line-number" value="755"></td><td class="line-content">				ID = ID || 0;</td></tr><tr><td class="line-number" value="756"></td><td class="line-content">				var gear = gears[ID];</td></tr><tr><td class="line-number" value="757"></td><td class="line-content">				if( ID == 0 ) { gears[ID].rot = rot-gears[ID].jointangle; }</td></tr><tr><td class="line-number" value="758"></td><td class="line-content">				else {</td></tr><tr><td class="line-number" value="759"></td><td class="line-content">					var parentgear = gears[ gear.parentID ],</td></tr><tr><td class="line-number" value="760"></td><td class="line-content">						newrot;</td></tr><tr><td class="line-number" value="761"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="762"></td><td class="line-content">					if( gear.axlejoint ) {</td></tr><tr><td class="line-number" value="763"></td><td class="line-content">						gears[ID].rot = parentgear.rot-gears[ID].jointangle;	// + gear.jointangle</td></tr><tr><td class="line-number" value="764"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="765"></td><td class="line-content">					} else {</td></tr><tr><td class="line-number" value="766"></td><td class="line-content">						gears[ID].rot= 180-((parentgear.rot+gear.jointangle)*gear.ratio)-gear.jointangle;//-((gear.jointangle*2)*gear.ratio);</td></tr><tr><td class="line-number" value="767"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="768"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="769"></td><td class="line-content">					//console.log("rotation "+gears[ID].rot);</td></tr><tr><td class="line-number" value="770"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="771"></td><td class="line-content">				setGearDOMRotation( ID );</td></tr><tr><td class="line-number" value="772"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="773"></td><td class="line-content">				for( var i=0; i&lt;gear.childIDs.length; i++ ) {</td></tr><tr><td class="line-number" value="774"></td><td class="line-content">					rotateGears( gear.childIDs[i] );</td></tr><tr><td class="line-number" value="775"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="776"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="777"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="778"></td><td class="line-content">			function selectParent() {</td></tr><tr><td class="line-number" value="779"></td><td class="line-content">				var ID = gears[selectedgear].parentID;</td></tr><tr><td class="line-number" value="780"></td><td class="line-content">				if( ID&gt;=0 ) selectGear( ID );</td></tr><tr><td class="line-number" value="781"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="782"></td><td class="line-content">			function selectGear( ID ) {</td></tr><tr><td class="line-number" value="783"></td><td class="line-content">				selectedgear = ID;	// select this geat + set Selection!!!</td></tr><tr><td class="line-number" value="784"></td><td class="line-content">				selectListItem( ID );</td></tr><tr><td class="line-number" value="785"></td><td class="line-content">				setEditorValues( ID );</td></tr><tr><td class="line-number" value="786"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="787"></td><td class="line-content">				var gear = gears[ID];</td></tr><tr><td class="line-number" value="788"></td><td class="line-content">				$("#svgdata").val( gear.svg );</td></tr><tr><td class="line-number" value="789"></td><td class="line-content">				$("#svgfilename").val( "gg_gear N"+gear.N+" D"+fix2(gear.D)+" P"+fix2(gear.P)+" PA"+fix2(gear.PA)+" @"+fix2(getscale())+".svg" );</td></tr><tr><td class="line-number" value="790"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="791"></td><td class="line-content">				$(".svg").removeClass("selected");</td></tr><tr><td class="line-number" value="792"></td><td class="line-content">				$("#gearcontainer"+ID).addClass("selected");</td></tr><tr><td class="line-number" value="793"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="794"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="795"></td><td class="line-content">			function setEditorValues( ID ) {</td></tr><tr><td class="line-number" value="796"></td><td class="line-content">				var data = gears[ID];</td></tr><tr><td class="line-number" value="797"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="798"></td><td class="line-content">				setN( data.N );</td></tr><tr><td class="line-number" value="799"></td><td class="line-content">				setD( data.D );</td></tr><tr><td class="line-number" value="800"></td><td class="line-content">				setP( data.P );</td></tr><tr><td class="line-number" value="801"></td><td class="line-content">				setPA( data.PA );</td></tr><tr><td class="line-number" value="802"></td><td class="line-content">				setPG( data.parentID );</td></tr><tr><td class="line-number" value="803"></td><td class="line-content">				setCA( data.jointangle );</td></tr><tr><td class="line-number" value="804"></td><td class="line-content">				setCAXLE( data.axlejoint );</td></tr><tr><td class="line-number" value="805"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="806"></td><td class="line-content">				$("#out").html( '&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!-- Generator: Iparigrafika SpurGearAnalyzator v2 by Abel Vincze http://iparigrafika.hu/gear --&gt;'+data.svg );</td></tr><tr><td class="line-number" value="807"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="808"></td><td class="line-content">			function positionGears( ID ) {</td></tr><tr><td class="line-number" value="809"></td><td class="line-content">				//console.log("rotate gears");</td></tr><tr><td class="line-number" value="810"></td><td class="line-content">				// rotate childs (recursive)</td></tr><tr><td class="line-number" value="811"></td><td class="line-content">				ID = ID || 0;</td></tr><tr><td class="line-number" value="812"></td><td class="line-content">				var gear = gears[ID],</td></tr><tr><td class="line-number" value="813"></td><td class="line-content">					parentID = gear.parentID,</td></tr><tr><td class="line-number" value="814"></td><td class="line-content">					parentgear;</td></tr><tr><td class="line-number" value="815"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="816"></td><td class="line-content">				//console.log( parentID );</td></tr><tr><td class="line-number" value="817"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="818"></td><td class="line-content">				if( parentID&gt;=0 ) {</td></tr><tr><td class="line-number" value="819"></td><td class="line-content">					parentgear = gears[ parentID ];</td></tr><tr><td class="line-number" value="820"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="821"></td><td class="line-content">					gear.ratio = parentgear.N/gears[ID].N;</td></tr><tr><td class="line-number" value="822"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="823"></td><td class="line-content">					// pozicio megadasa a parent alapjan</td></tr><tr><td class="line-number" value="824"></td><td class="line-content">					if( gear.axlejoint ) {</td></tr><tr><td class="line-number" value="825"></td><td class="line-content">						gear.offsetx = 0;</td></tr><tr><td class="line-number" value="826"></td><td class="line-content">						gear.offsety = 0;</td></tr><tr><td class="line-number" value="827"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="828"></td><td class="line-content">						gear.totalratio = parentgear.totalratio;</td></tr><tr><td class="line-number" value="829"></td><td class="line-content">					} else {</td></tr><tr><td class="line-number" value="830"></td><td class="line-content">						var dist = parentgear.Rsc+gear.Rsc;</td></tr><tr><td class="line-number" value="831"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="832"></td><td class="line-content">						gear.offsetx = Math.cos( gear.jointangle/AM )*dist;</td></tr><tr><td class="line-number" value="833"></td><td class="line-content">						gear.offsety = -Math.sin( gear.jointangle/AM )*dist;</td></tr><tr><td class="line-number" value="834"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="835"></td><td class="line-content">						gear.totalratio = parentgear.totalratio*gear.ratio;</td></tr><tr><td class="line-number" value="836"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="837"></td><td class="line-content">					gear.x = parentgear.x + gear.offsetx;</td></tr><tr><td class="line-number" value="838"></td><td class="line-content">					gear.y = parentgear.y + gear.offsety;</td></tr><tr><td class="line-number" value="839"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="840"></td><td class="line-content">					//console.log( gears[ID].x );</td></tr><tr><td class="line-number" value="841"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="842"></td><td class="line-content">				} else {</td></tr><tr><td class="line-number" value="843"></td><td class="line-content">					var temp = gear.svgwidth/2,</td></tr><tr><td class="line-number" value="844"></td><td class="line-content">						sc = getscale(),</td></tr><tr><td class="line-number" value="845"></td><td class="line-content">						m = Math.ceil( (temp+(sc/5))/sc );</td></tr><tr><td class="line-number" value="846"></td><td class="line-content">					gear.x = m*sc;</td></tr><tr><td class="line-number" value="847"></td><td class="line-content">					gear.y = m*sc;</td></tr><tr><td class="line-number" value="848"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="849"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="850"></td><td class="line-content">				//setListItemText( ID );</td></tr><tr><td class="line-number" value="851"></td><td class="line-content">				updateGearDOM( ID );</td></tr><tr><td class="line-number" value="852"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="853"></td><td class="line-content">				for( var i=0; i&lt;gear.childIDs.length; i++ ) {</td></tr><tr><td class="line-number" value="854"></td><td class="line-content">					positionGears( gear.childIDs[i] );</td></tr><tr><td class="line-number" value="855"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="856"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="857"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="858"></td><td class="line-content">			function renderAllGears() {</td></tr><tr><td class="line-number" value="859"></td><td class="line-content">				renderGear(0);</td></tr><tr><td class="line-number" value="860"></td><td class="line-content">				positionGears(0);</td></tr><tr><td class="line-number" value="861"></td><td class="line-content">				rotateGears(0);</td></tr><tr><td class="line-number" value="862"></td><td class="line-content">				makeGrid();</td></tr><tr><td class="line-number" value="863"></td><td class="line-content">				maxSize();</td></tr><tr><td class="line-number" value="864"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="865"></td><td class="line-content">			function renderGear( ID ) {</td></tr><tr><td class="line-number" value="866"></td><td class="line-content">				var gear = gears[ID];</td></tr><tr><td class="line-number" value="867"></td><td class="line-content">				//console.log( "gear"+ID+" CA: "+gear.jointangle );</td></tr><tr><td class="line-number" value="868"></td><td class="line-content">				updateGear( ID, gear.N, gear.D, gear.P, gear.PA, gear.jointangle );</td></tr><tr><td class="line-number" value="869"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="870"></td><td class="line-content">				for( var i=0; i&lt;gear.childIDs.length; i++ ) {</td></tr><tr><td class="line-number" value="871"></td><td class="line-content">					renderGear( gear.childIDs[i] );</td></tr><tr><td class="line-number" value="872"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="873"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="874"></td><td class="line-content">			function updatePitches() {</td></tr><tr><td class="line-number" value="875"></td><td class="line-content">				var ID = selectedgear,</td></tr><tr><td class="line-number" value="876"></td><td class="line-content">					P = getP(),</td></tr><tr><td class="line-number" value="877"></td><td class="line-content">					PA = getPA(),</td></tr><tr><td class="line-number" value="878"></td><td class="line-content">					N = getN();</td></tr><tr><td class="line-number" value="879"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="880"></td><td class="line-content">				if( gears[ID].P != P || gears[ID].PA != PA ) {</td></tr><tr><td class="line-number" value="881"></td><td class="line-content">					updatePitch( N, P, PA, ID );</td></tr><tr><td class="line-number" value="882"></td><td class="line-content">					if( !gears[ID].axlejoint ) {</td></tr><tr><td class="line-number" value="883"></td><td class="line-content">						updateParentPitch( P, PA, ID );</td></tr><tr><td class="line-number" value="884"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="885"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="886"></td><td class="line-content">					positionGears( 0 );</td></tr><tr><td class="line-number" value="887"></td><td class="line-content">					rotateGears( 0 );</td></tr><tr><td class="line-number" value="888"></td><td class="line-content">					updateHash();</td></tr><tr><td class="line-number" value="889"></td><td class="line-content">					maxSize();</td></tr><tr><td class="line-number" value="890"></td><td class="line-content">					//updateListItemText( ID );</td></tr><tr><td class="line-number" value="891"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="892"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="893"></td><td class="line-content">			function updatePitch( N, P, PA, ID, excludedChild ) {</td></tr><tr><td class="line-number" value="894"></td><td class="line-content">				excludedChild = excludedChild || -1;</td></tr><tr><td class="line-number" value="895"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="896"></td><td class="line-content">				var gear = gears[ID],</td></tr><tr><td class="line-number" value="897"></td><td class="line-content">					D = N/P;</td></tr><tr><td class="line-number" value="898"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="899"></td><td class="line-content">				updateGear( ID, N, D, P, PA, gear.jointangle );</td></tr><tr><td class="line-number" value="900"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="901"></td><td class="line-content">				for( var i=0; i&lt;gear.childIDs.length; i++ ) {</td></tr><tr><td class="line-number" value="902"></td><td class="line-content">					var chID = gear.childIDs[i];</td></tr><tr><td class="line-number" value="903"></td><td class="line-content">					if( chID != excludedChild &amp;&amp; !gears[chID].axlejoint ) {</td></tr><tr><td class="line-number" value="904"></td><td class="line-content">						updatePitch( gears[chID].N, P, PA, chID );</td></tr><tr><td class="line-number" value="905"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="906"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="907"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="908"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="909"></td><td class="line-content">			function updateParentPitch( P, PA, ID ) {</td></tr><tr><td class="line-number" value="910"></td><td class="line-content">				if( gears[ID].axlejoint ) return;</td></tr><tr><td class="line-number" value="911"></td><td class="line-content">				var parentID = gears[ID].parentID;</td></tr><tr><td class="line-number" value="912"></td><td class="line-content">				if( parentID&gt;=0 ) {</td></tr><tr><td class="line-number" value="913"></td><td class="line-content">					updatePitch( gears[parentID].N, P, PA, parentID, ID );	</td></tr><tr><td class="line-number" value="914"></td><td class="line-content">					updateParentPitch( P, PA, parentID );</td></tr><tr><td class="line-number" value="915"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="916"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="917"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="918"></td><td class="line-content">			function updateGears() {</td></tr><tr><td class="line-number" value="919"></td><td class="line-content">				var ID = selectedgear;</td></tr><tr><td class="line-number" value="920"></td><td class="line-content">				updateGear( ID );</td></tr><tr><td class="line-number" value="921"></td><td class="line-content">				positionGears( ID );</td></tr><tr><td class="line-number" value="922"></td><td class="line-content">				rotateGears( ID );</td></tr><tr><td class="line-number" value="923"></td><td class="line-content">				updateListItemText( ID );</td></tr><tr><td class="line-number" value="924"></td><td class="line-content">				updateHash();</td></tr><tr><td class="line-number" value="925"></td><td class="line-content">				maxSize();</td></tr><tr><td class="line-number" value="926"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="927"></td><td class="line-content">			function updateGear( ID, N, D, P, PA, CA ) {</td></tr><tr><td class="line-number" value="928"></td><td class="line-content">				N = N || getN();</td></tr><tr><td class="line-number" value="929"></td><td class="line-content">				D = D || getD();</td></tr><tr><td class="line-number" value="930"></td><td class="line-content">				P = P || getP();</td></tr><tr><td class="line-number" value="931"></td><td class="line-content">				PA = PA || getPA();</td></tr><tr><td class="line-number" value="932"></td><td class="line-content">				CA = CA==undefined? getCA(): CA;</td></tr><tr><td class="line-number" value="933"></td><td class="line-content">				var thegear = createGear( N, D, P, PA, ID );</td></tr><tr><td class="line-number" value="934"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="935"></td><td class="line-content">				gears[ID].N = N;</td></tr><tr><td class="line-number" value="936"></td><td class="line-content">				gears[ID].D = D;</td></tr><tr><td class="line-number" value="937"></td><td class="line-content">				gears[ID].P = P;</td></tr><tr><td class="line-number" value="938"></td><td class="line-content">				gears[ID].PA = PA;</td></tr><tr><td class="line-number" value="939"></td><td class="line-content">				gears[ID].jointangle = CA;</td></tr><tr><td class="line-number" value="940"></td><td class="line-content">				gears[ID].gearangle = thegear.gearangle;</td></tr><tr><td class="line-number" value="941"></td><td class="line-content">				gears[ID].baseangle = thegear.baseangle;</td></tr><tr><td class="line-number" value="942"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="943"></td><td class="line-content">				gears[ID].svg = thegear.svg;</td></tr><tr><td class="line-number" value="944"></td><td class="line-content">				gears[ID].svgwidth = thegear.w;		// fogaskerek svg merete.</td></tr><tr><td class="line-number" value="945"></td><td class="line-content">				gears[ID].svgheight = thegear.h;</td></tr><tr><td class="line-number" value="946"></td><td class="line-content">				gears[ID].svgoffsetx = -thegear.w/2;		// svg offset a kozeppont pozicionalasahoz</td></tr><tr><td class="line-number" value="947"></td><td class="line-content">				gears[ID].svgoffsety = -thegear.h/2;</td></tr><tr><td class="line-number" value="948"></td><td class="line-content">				gears[ID].Rsc = thegear.Rsc;</td></tr><tr><td class="line-number" value="949"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="950"></td><td class="line-content">				$("#gearcontainer"+ID).html( thegear.svg );</td></tr><tr><td class="line-number" value="951"></td><td class="line-content">				setGearEvents( ID );</td></tr><tr><td class="line-number" value="952"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="953"></td><td class="line-content">			function setGearEvents( ID ) {</td></tr><tr><td class="line-number" value="954"></td><td class="line-content">				$("#gearpoly"+ID).bind( "click", selectionClick );</td></tr><tr><td class="line-number" value="955"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="956"></td><td class="line-content">			function updateGearDOM( ID ) {</td></tr><tr><td class="line-number" value="957"></td><td class="line-content">				var gearc = $("#gearcontainer"+ID),</td></tr><tr><td class="line-number" value="958"></td><td class="line-content">					data = gears[ ID ];</td></tr><tr><td class="line-number" value="959"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="960"></td><td class="line-content">				gearc.css( { width:			data.svgwidth,</td></tr><tr><td class="line-number" value="961"></td><td class="line-content">							height:			data.svgheight } );</td></tr><tr><td class="line-number" value="962"></td><td class="line-content">				setGearDOMRotation( ID );</td></tr><tr><td class="line-number" value="963"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="964"></td><td class="line-content">			function setGearDOMRotation( ID ) {</td></tr><tr><td class="line-number" value="965"></td><td class="line-content">				var	gear = $("#gearcontainer"+ID),</td></tr><tr><td class="line-number" value="966"></td><td class="line-content">					data = gears[ ID ];</td></tr><tr><td class="line-number" value="967"></td><td class="line-content">				gear.css( { "transform": 	"translate3d("+fix2(data.x+data.svgoffsetx)+"px,"+fix2(data.y+data.svgoffsety)+"px,0) rotate("+fix6(data.rot+data.baseangle)+"deg)"  } );</td></tr><tr><td class="line-number" value="968"></td><td class="line-content">				//console.log( (data.x+data.svgoffsetx)+"+"+(data.y+data.svgoffsety) )</td></tr><tr><td class="line-number" value="969"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="970"></td><td class="line-content">			function selectListItem( ID ) {</td></tr><tr><td class="line-number" value="971"></td><td class="line-content">				$(".listitem").removeClass("selected");</td></tr><tr><td class="line-number" value="972"></td><td class="line-content">				$("#gearlistitem"+ID).addClass("selected");</td></tr><tr><td class="line-number" value="973"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="974"></td><td class="line-content">			function setListItemText( ID ) {</td></tr><tr><td class="line-number" value="975"></td><td class="line-content">				$("#gearlistitem"+ID).html( '#'+(ID)+' - ratio: '+getRatio( 1/gears[ID].totalratio )+' - RPM: '+fix2(gears[ID].totalratio*RPM) );</td></tr><tr><td class="line-number" value="976"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="977"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="978"></td><td class="line-content">			function updateListItemText( ID ) {</td></tr><tr><td class="line-number" value="979"></td><td class="line-content">				var gear = gears[ID];</td></tr><tr><td class="line-number" value="980"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="981"></td><td class="line-content">				setListItemText( ID );</td></tr><tr><td class="line-number" value="982"></td><td class="line-content">				//updateGearsDOM( ID );</td></tr><tr><td class="line-number" value="983"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="984"></td><td class="line-content">				for( var i=0; i&lt;gear.childIDs.length; i++ ) {</td></tr><tr><td class="line-number" value="985"></td><td class="line-content">					updateListItemText( gear.childIDs[i] );</td></tr><tr><td class="line-number" value="986"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="987"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="988"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="989"></td><td class="line-content">				function getRatio( r ) {</td></tr><tr><td class="line-number" value="990"></td><td class="line-content">					var out;</td></tr><tr><td class="line-number" value="991"></td><td class="line-content">					r = Number(r);</td></tr><tr><td class="line-number" value="992"></td><td class="line-content">					if( r&lt;1 ) {</td></tr><tr><td class="line-number" value="993"></td><td class="line-content">						out = "1:"+fix2(1/r);</td></tr><tr><td class="line-number" value="994"></td><td class="line-content">					} else {</td></tr><tr><td class="line-number" value="995"></td><td class="line-content">						out = fix2(r)+":1";</td></tr><tr><td class="line-number" value="996"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="997"></td><td class="line-content">					return out;</td></tr><tr><td class="line-number" value="998"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="999"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="1000"></td><td class="line-content">			//var maxw = 0, maxh = 0;</td></tr><tr><td class="line-number" value="1001"></td><td class="line-content">			function maxSize() {</td></tr><tr><td class="line-number" value="1002"></td><td class="line-content">				var mx = 0, my = 0;</td></tr><tr><td class="line-number" value="1003"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1004"></td><td class="line-content">				for( var i=0, gear, gmx, gmy, add; i&lt;gears.length; i++ ) {</td></tr><tr><td class="line-number" value="1005"></td><td class="line-content">					gear = gears[i];</td></tr><tr><td class="line-number" value="1006"></td><td class="line-content">					add = (gear.svgwidth/2)*1.5;</td></tr><tr><td class="line-number" value="1007"></td><td class="line-content">					gmx = gear.x+add;</td></tr><tr><td class="line-number" value="1008"></td><td class="line-content">					gmy = gear.y+add;</td></tr><tr><td class="line-number" value="1009"></td><td class="line-content">					if( gmx&gt;mx ) mx = gmx;</td></tr><tr><td class="line-number" value="1010"></td><td class="line-content">					if( gmy&gt;my ) my = gmy;</td></tr><tr><td class="line-number" value="1011"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="1012"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1013"></td><td class="line-content">				$("#screen").css( { width: mx, height: my } );</td></tr><tr><td class="line-number" value="1014"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1015"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1016"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="1017"></td><td class="line-content">			// --------------------------------------------------------------------------------------------------</td></tr><tr><td class="line-number" value="1018"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1019"></td><td class="line-content">			function reset() {</td></tr><tr><td class="line-number" value="1020"></td><td class="line-content">				$("#N").bind("enterKey",Nchange);</td></tr><tr><td class="line-number" value="1021"></td><td class="line-content">				$("#D").bind("enterKey",Dchange);</td></tr><tr><td class="line-number" value="1022"></td><td class="line-content">				$("#P").bind("enterKey",Pchange);</td></tr><tr><td class="line-number" value="1023"></td><td class="line-content">				$("#PA").bind("enterKey",PAchange);</td></tr><tr><td class="line-number" value="1024"></td><td class="line-content">				$("#scale").bind("enterKey",scaleChange);</td></tr><tr><td class="line-number" value="1025"></td><td class="line-content">				$("#RPM").bind("enterKey",RPMchange);</td></tr><tr><td class="line-number" value="1026"></td><td class="line-content">				$("#CA").bind("enterKey",CAchange);</td></tr><tr><td class="line-number" value="1027"></td><td class="line-content">				$("#PG").bind("enterKey",PGchange);</td></tr><tr><td class="line-number" value="1028"></td><td class="line-content">				$("#CAXLE").bind("change",CAXLEchange);</td></tr><tr><td class="line-number" value="1029"></td><td class="line-content">				$(".display").bind("change",displaychange);</td></tr><tr><td class="line-number" value="1030"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1031"></td><td class="line-content">				$("input").keyup(onKeyup).blur(onBlur);</td></tr><tr><td class="line-number" value="1032"></td><td class="line-content">				has3d = "WebKitCSSMatrix" in window || "MozPerspective" in document.body.style;</td></tr><tr><td class="line-number" value="1033"></td><td class="line-content">				/*@cc_on if (/^10/.test(@_jscript_version)) has3d = TRUE; @*/	//IE10 have 3d support</td></tr><tr><td class="line-number" value="1034"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1035"></td><td class="line-content">				resetOEF();</td></tr><tr><td class="line-number" value="1036"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1037"></td><td class="line-content">				if( !parseHash() ) addGear( undefined, true, 18, 3, 6, 20 );	// default gear;</td></tr><tr><td class="line-number" value="1038"></td><td class="line-content">				updateHash();</td></tr><tr><td class="line-number" value="1039"></td><td class="line-content">				readCookies();</td></tr><tr><td class="line-number" value="1040"></td><td class="line-content">				RPMchange();	// get initial value from input box</td></tr><tr><td class="line-number" value="1041"></td><td class="line-content">				maxSize();</td></tr><tr><td class="line-number" value="1042"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1043"></td><td class="line-content">			function parseHash() {</td></tr><tr><td class="line-number" value="1044"></td><td class="line-content">				var h = location.hash;</td></tr><tr><td class="line-number" value="1045"></td><td class="line-content">				if( !h ) h="#200,200,100,6,1,0,0,4,1,8,2,4,27,-90,0,0,16,4,4,27,-60,1,1,12,1,12,20,-60,2,0,60,5,12,20,0,0,0,2,-563";</td></tr><tr><td class="line-number" value="1046"></td><td class="line-content">				if( h ) {</td></tr><tr><td class="line-number" value="1047"></td><td class="line-content">					var t = h.substr( 1 ),</td></tr><tr><td class="line-number" value="1048"></td><td class="line-content">						CRC=0,</td></tr><tr><td class="line-number" value="1049"></td><td class="line-content">						CRC2=0;</td></tr><tr><td class="line-number" value="1050"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="1051"></td><td class="line-content">					if( t=="clear" ) return false;</td></tr><tr><td class="line-number" value="1052"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="1053"></td><td class="line-content">					t = t.split(",");</td></tr><tr><td class="line-number" value="1054"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="1055"></td><td class="line-content">					for( var i=0; i&lt;t.length-1; i++ ) {</td></tr><tr><td class="line-number" value="1056"></td><td class="line-content">						CRC += Number(t[i]);</td></tr><tr><td class="line-number" value="1057"></td><td class="line-content">						CRC2 = Math.sin( Number(t[i]) )*100-CRC2;</td></tr><tr><td class="line-number" value="1058"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="1059"></td><td class="line-content">					if( t[i]!=Math.ceil(CRC%800+CRC2*2) ) return false;	// Wrong CRC</td></tr><tr><td class="line-number" value="1060"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1061"></td><td class="line-content">					var i=0, </td></tr><tr><td class="line-number" value="1062"></td><td class="line-content">						gs,</td></tr><tr><td class="line-number" value="1063"></td><td class="line-content">						g = function() {</td></tr><tr><td class="line-number" value="1064"></td><td class="line-content">							return Number(t[i++]);</td></tr><tr><td class="line-number" value="1065"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="1066"></td><td class="line-content">						basex = g(),</td></tr><tr><td class="line-number" value="1067"></td><td class="line-content">						basey = g();</td></tr><tr><td class="line-number" value="1068"></td><td class="line-content">						</td></tr><tr><td class="line-number" value="1069"></td><td class="line-content">					setscale( g() );</td></tr><tr><td class="line-number" value="1070"></td><td class="line-content">					setRPM( g() );</td></tr><tr><td class="line-number" value="1071"></td><td class="line-content">					loop = animation = g()==1;</td></tr><tr><td class="line-number" value="1072"></td><td class="line-content">					var sg = g();</td></tr><tr><td class="line-number" value="1073"></td><td class="line-content">					rot = g();</td></tr><tr><td class="line-number" value="1074"></td><td class="line-content">					gs = g();</td></tr><tr><td class="line-number" value="1075"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="1076"></td><td class="line-content">					for( var j=0; j&lt;gs; j++ ) { addGearData( j==0?-1:g(), g()==1, g(), g(), g(), g(), g()); }</td></tr><tr><td class="line-number" value="1077"></td><td class="line-content">					for( var j=0; j&lt;gs; j++ ) { addGearDataProcess( j ) };</td></tr><tr><td class="line-number" value="1078"></td><td class="line-content">					//for( var j=0; j&lt;gs; j++ ) { updateGearDOM( j ) };</td></tr><tr><td class="line-number" value="1079"></td><td class="line-content">					positionGears( 0 );</td></tr><tr><td class="line-number" value="1080"></td><td class="line-content">					rotateGears( 0 );</td></tr><tr><td class="line-number" value="1081"></td><td class="line-content">					selectGear( sg );</td></tr><tr><td class="line-number" value="1082"></td><td class="line-content">					if( animation ) OEF();</td></tr><tr><td class="line-number" value="1083"></td><td class="line-content">					return true;</td></tr><tr><td class="line-number" value="1084"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="1085"></td><td class="line-content">				return false;</td></tr><tr><td class="line-number" value="1086"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1087"></td><td class="line-content">			function updateHash() {</td></tr><tr><td class="line-number" value="1088"></td><td class="line-content">				var h  = "",</td></tr><tr><td class="line-number" value="1089"></td><td class="line-content">					S=",",</td></tr><tr><td class="line-number" value="1090"></td><td class="line-content">					CRC=0,</td></tr><tr><td class="line-number" value="1091"></td><td class="line-content">					CRC2=0,</td></tr><tr><td class="line-number" value="1092"></td><td class="line-content">					a=animation?1:0,</td></tr><tr><td class="line-number" value="1093"></td><td class="line-content">					g = function( n ) {</td></tr><tr><td class="line-number" value="1094"></td><td class="line-content">						h += n+S;</td></tr><tr><td class="line-number" value="1095"></td><td class="line-content">						CRC += Number(n);</td></tr><tr><td class="line-number" value="1096"></td><td class="line-content">						CRC2 = Math.sin( Number(n) )*100-CRC2;</td></tr><tr><td class="line-number" value="1097"></td><td class="line-content">					};</td></tr><tr><td class="line-number" value="1098"></td><td class="line-content">				g(gears[0].x);</td></tr><tr><td class="line-number" value="1099"></td><td class="line-content">				g(gears[0].x);</td></tr><tr><td class="line-number" value="1100"></td><td class="line-content">				g(getscale());</td></tr><tr><td class="line-number" value="1101"></td><td class="line-content">				g(getRPM());</td></tr><tr><td class="line-number" value="1102"></td><td class="line-content">				g(a);</td></tr><tr><td class="line-number" value="1103"></td><td class="line-content">				g(selectedgear);</td></tr><tr><td class="line-number" value="1104"></td><td class="line-content">				g(rot);</td></tr><tr><td class="line-number" value="1105"></td><td class="line-content">				g(gears.length);</td></tr><tr><td class="line-number" value="1106"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1107"></td><td class="line-content">				for( var i=0, gear; i&lt;gears.length; i++ ) {</td></tr><tr><td class="line-number" value="1108"></td><td class="line-content">					gear = gears[i];</td></tr><tr><td class="line-number" value="1109"></td><td class="line-content">					if( i&gt;0 ) { g(gear.parentID); }</td></tr><tr><td class="line-number" value="1110"></td><td class="line-content">					g(gear.axlejoint?1:0);</td></tr><tr><td class="line-number" value="1111"></td><td class="line-content">					g(gear.N);</td></tr><tr><td class="line-number" value="1112"></td><td class="line-content">					g(gear.D);</td></tr><tr><td class="line-number" value="1113"></td><td class="line-content">					g(gear.P);</td></tr><tr><td class="line-number" value="1114"></td><td class="line-content">					g(gear.PA);</td></tr><tr><td class="line-number" value="1115"></td><td class="line-content">					g(gear.jointangle);</td></tr><tr><td class="line-number" value="1116"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="1117"></td><td class="line-content">				g(0);	// for future use</td></tr><tr><td class="line-number" value="1118"></td><td class="line-content">				g(0);</td></tr><tr><td class="line-number" value="1119"></td><td class="line-content">				g(2);	// version</td></tr><tr><td class="line-number" value="1120"></td><td class="line-content">				h+=Math.ceil(CRC%800+CRC2*2);</td></tr><tr><td class="line-number" value="1121"></td><td class="line-content">				location.hash = "#"+h;</td></tr><tr><td class="line-number" value="1122"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1123"></td><td class="line-content">			function onKeyup( e ) {</td></tr><tr><td class="line-number" value="1124"></td><td class="line-content">					//console.log("key: "+e.keyCode+" shift: "+e.shiftKey );</td></tr><tr><td class="line-number" value="1125"></td><td class="line-content">					shift = e.shiftKey;</td></tr><tr><td class="line-number" value="1126"></td><td class="line-content">					if(e.keyCode == 13) {</td></tr><tr><td class="line-number" value="1127"></td><td class="line-content">						$(this).trigger("enterKey");</td></tr><tr><td class="line-number" value="1128"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="1129"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1130"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1131"></td><td class="line-content">			function onBlur( e ) {</td></tr><tr><td class="line-number" value="1132"></td><td class="line-content">				$(this).trigger("enterKey");</td></tr><tr><td class="line-number" value="1133"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1134"></td><td class="line-content">			function resetOEF() {</td></tr><tr><td class="line-number" value="1135"></td><td class="line-content">				window.raf = (function(){</td></tr><tr><td class="line-number" value="1136"></td><td class="line-content">					return 	window.requestAnimationFrame       ||</td></tr><tr><td class="line-number" value="1137"></td><td class="line-content">							window.webkitRequestAnimationFrame ||</td></tr><tr><td class="line-number" value="1138"></td><td class="line-content">							window.mozRequestAnimationFrame    ||</td></tr><tr><td class="line-number" value="1139"></td><td class="line-content">							function( callback ) {</td></tr><tr><td class="line-number" value="1140"></td><td class="line-content">								window.setTimeout( callback, 100/6 );</td></tr><tr><td class="line-number" value="1141"></td><td class="line-content">							};</td></tr><tr><td class="line-number" value="1142"></td><td class="line-content">				})();</td></tr><tr><td class="line-number" value="1143"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1144"></td><td class="line-content">			function OEF() {</td></tr><tr><td class="line-number" value="1145"></td><td class="line-content">				if( animation ) {</td></tr><tr><td class="line-number" value="1146"></td><td class="line-content">					if( realRPM&lt;RPM ) { realRPM += 1 }</td></tr><tr><td class="line-number" value="1147"></td><td class="line-content">					else if( realRPM&gt;RPM ) { realRPM -= 1 };</td></tr><tr><td class="line-number" value="1148"></td><td class="line-content">					if( Math.abs(realRPM-RPM)&lt;1 ) realRPM=RPM;</td></tr><tr><td class="line-number" value="1149"></td><td class="line-content">				} else {</td></tr><tr><td class="line-number" value="1150"></td><td class="line-content">					realRPM -= 1;</td></tr><tr><td class="line-number" value="1151"></td><td class="line-content">					if( realRPM&lt;0 ) { </td></tr><tr><td class="line-number" value="1152"></td><td class="line-content">						realRPM=0;</td></tr><tr><td class="line-number" value="1153"></td><td class="line-content">						loop = false;</td></tr><tr><td class="line-number" value="1154"></td><td class="line-content">					}</td></tr><tr><td class="line-number" value="1155"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="1156"></td><td class="line-content">				if( loop ) raf( OEF );</td></tr><tr><td class="line-number" value="1157"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1158"></td><td class="line-content">				//console.log( RPM );</td></tr><tr><td class="line-number" value="1159"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1160"></td><td class="line-content">				rota = (realRPM/3600)*360;</td></tr><tr><td class="line-number" value="1161"></td><td class="line-content">				rot += rota;</td></tr><tr><td class="line-number" value="1162"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1163"></td><td class="line-content"> 				rotateGears();</td></tr><tr><td class="line-number" value="1164"></td><td class="line-content">				if( loop==false ) { updateHash(); }</td></tr><tr><td class="line-number" value="1165"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1166"></td><td class="line-content">			function anim( mode ) {</td></tr><tr><td class="line-number" value="1167"></td><td class="line-content">				switch( mode ) {</td></tr><tr><td class="line-number" value="1168"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="1169"></td><td class="line-content">					case 0:</td></tr><tr><td class="line-number" value="1170"></td><td class="line-content">						animation = !animation</td></tr><tr><td class="line-number" value="1171"></td><td class="line-content">						if( animation ) {</td></tr><tr><td class="line-number" value="1172"></td><td class="line-content">							updateHash();</td></tr><tr><td class="line-number" value="1173"></td><td class="line-content">							if( !loop ) {</td></tr><tr><td class="line-number" value="1174"></td><td class="line-content">								loop = true;</td></tr><tr><td class="line-number" value="1175"></td><td class="line-content">								OEF();</td></tr><tr><td class="line-number" value="1176"></td><td class="line-content">							}</td></tr><tr><td class="line-number" value="1177"></td><td class="line-content">						}</td></tr><tr><td class="line-number" value="1178"></td><td class="line-content">						break;</td></tr><tr><td class="line-number" value="1179"></td><td class="line-content">					case 1:</td></tr><tr><td class="line-number" value="1180"></td><td class="line-content">						loop = false;</td></tr><tr><td class="line-number" value="1181"></td><td class="line-content">						animation = false;</td></tr><tr><td class="line-number" value="1182"></td><td class="line-content">						updateHash();</td></tr><tr><td class="line-number" value="1183"></td><td class="line-content">						break;</td></tr><tr><td class="line-number" value="1184"></td><td class="line-content">					case 2:</td></tr><tr><td class="line-number" value="1185"></td><td class="line-content">						loop = false;</td></tr><tr><td class="line-number" value="1186"></td><td class="line-content">						animation = false,</td></tr><tr><td class="line-number" value="1187"></td><td class="line-content">						realRPM = 0;</td></tr><tr><td class="line-number" value="1188"></td><td class="line-content">						rot = baserot;</td></tr><tr><td class="line-number" value="1189"></td><td class="line-content">						rotateGears();</td></tr><tr><td class="line-number" value="1190"></td><td class="line-content">						//OEF();</td></tr><tr><td class="line-number" value="1191"></td><td class="line-content">						updateHash();</td></tr><tr><td class="line-number" value="1192"></td><td class="line-content">						break;</td></tr><tr><td class="line-number" value="1193"></td><td class="line-content">					</td></tr><tr><td class="line-number" value="1194"></td><td class="line-content">				}</td></tr><tr><td class="line-number" value="1195"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1196"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1197"></td><td class="line-content">			function setTheme( th ) {</td></tr><tr><td class="line-number" value="1198"></td><td class="line-content">				theme = th;</td></tr><tr><td class="line-number" value="1199"></td><td class="line-content">				$("body").attr("class", "col"+th );</td></tr><tr><td class="line-number" value="1200"></td><td class="line-content">				makeGrid();</td></tr><tr><td class="line-number" value="1201"></td><td class="line-content">				writeCookies();</td></tr><tr><td class="line-number" value="1202"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1203"></td><td class="line-content">			function writeCookies() {</td></tr><tr><td class="line-number" value="1204"></td><td class="line-content">				$.cookie("theme", theme );</td></tr><tr><td class="line-number" value="1205"></td><td class="line-content">				$.cookie("guides", guides );</td></tr><tr><td class="line-number" value="1206"></td><td class="line-content">				$.cookie("geartext", geartext );</td></tr><tr><td class="line-number" value="1207"></td><td class="line-content">				$.cookie("grid", grid );</td></tr><tr><td class="line-number" value="1208"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1209"></td><td class="line-content">			function readCookies() {</td></tr><tr><td class="line-number" value="1210"></td><td class="line-content">				var ctheme = $.cookie("theme"),</td></tr><tr><td class="line-number" value="1211"></td><td class="line-content">					cguides = $.cookie("guides"),</td></tr><tr><td class="line-number" value="1212"></td><td class="line-content">					cgeartext = $.cookie("geartext"),</td></tr><tr><td class="line-number" value="1213"></td><td class="line-content">					cgrid = $.cookie("grid");</td></tr><tr><td class="line-number" value="1214"></td><td class="line-content">				if( ctheme != undefined ) theme = ctheme;</td></tr><tr><td class="line-number" value="1215"></td><td class="line-content">				if( cguides != undefined ) guides = cguides=="true";</td></tr><tr><td class="line-number" value="1216"></td><td class="line-content">				if( cgeartext != undefined ) geartext = cgeartext=="true";</td></tr><tr><td class="line-number" value="1217"></td><td class="line-content">				if( cgrid != undefined ) grid = cgrid=="true";</td></tr><tr><td class="line-number" value="1218"></td><td class="line-content">				setguides( guides );</td></tr><tr><td class="line-number" value="1219"></td><td class="line-content">				setlabels( geartext );</td></tr><tr><td class="line-number" value="1220"></td><td class="line-content">				setgrid( grid );</td></tr><tr><td class="line-number" value="1221"></td><td class="line-content">				setGuidesClass();</td></tr><tr><td class="line-number" value="1222"></td><td class="line-content">				setLabelsClass();</td></tr><tr><td class="line-number" value="1223"></td><td class="line-content">				setTheme( theme );</td></tr><tr><td class="line-number" value="1224"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1225"></td><td class="line-content">			function clearAll() {</td></tr><tr><td class="line-number" value="1226"></td><td class="line-content">				window.location = "http://geargenerator.com/#clear";</td></tr><tr><td class="line-number" value="1227"></td><td class="line-content">				window.location.reload();</td></tr><tr><td class="line-number" value="1228"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="1229"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="1230"></td><td class="line-content">		<span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="1231"></td><td class="line-content">		<span class="html-tag">&lt;link <span class="html-attribute-name">href</span>='<a class="html-attribute-value html-resource-link" target="_blank" href="http://geargenerator.com/geargenerator.css">geargenerator.css</a>' <span class="html-attribute-name">rel</span>='<span class="html-attribute-value">stylesheet</span>' <span class="html-attribute-name">type</span>='<span class="html-attribute-value">text/css</span>'&gt;</span></td></tr><tr><td class="line-number" value="1232"></td><td class="line-content">	<span class="html-tag">&lt;/head&gt;</span></td></tr><tr><td class="line-number" value="1233"></td><td class="line-content">	<span class="html-tag">&lt;body <span class="html-attribute-name">class</span>="<span class="html-attribute-value">col1</span>"&gt;</span></td></tr><tr><td class="line-number" value="1234"></td><td class="line-content">		<span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">screencontainer</span>"&gt;</span></td></tr><tr><td class="line-number" value="1235"></td><td class="line-content">			<span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">screen</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="1236"></td><td class="line-content">		<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="1237"></td><td class="line-content">		<span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">panel</span>"&gt;</span></td></tr><tr><td class="line-number" value="1238"></td><td class="line-content">			<span class="html-tag">&lt;h1 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">title</span>"&gt;</span>Gear Generator<span class="html-tag">&lt;/h1&gt;</span></td></tr><tr><td class="line-number" value="1239"></td><td class="line-content">			<span class="html-tag">&lt;p <span class="html-attribute-name">class</span>="<span class="html-attribute-value">title</span>"&gt;</span>Gear<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;p <span class="html-attribute-name">class</span>="<span class="html-attribute-value">title</span>"&gt;</span>Generator<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="1240"></td><td class="line-content">			<span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">animpanel</span>"&gt;</span></td></tr><tr><td class="line-number" value="1241"></td><td class="line-content">				<span class="html-tag">&lt;label&gt;</span><span class="html-tag">&lt;h2&gt;</span>Animation:<span class="html-tag">&lt;/h2&gt;</span><span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1242"></td><td class="line-content">				<span class="html-tag">&lt;button <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">anim(0)</span>"&gt;</span>Start/Stop<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">anim(1)</span>"&gt;</span>Freeze<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">anim(2)</span>"&gt;</span>Reset<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1243"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">RPM</span>"&gt;</span>Speed (RPM)*:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1244"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">RPM</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">6</span>"&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1245"></td><td class="line-content">				<span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">rem</span>"&gt;</span>* Shift + Enter: Set RPM of the selected gear<span class="html-tag">&lt;/span&gt;</span></td></tr><tr><td class="line-number" value="1246"></td><td class="line-content">			<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="1247"></td><td class="line-content">			<span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">gearlist</span>"&gt;</span></td></tr><tr><td class="line-number" value="1248"></td><td class="line-content">				<span class="html-tag">&lt;label&gt;</span><span class="html-tag">&lt;h2&gt;</span>Gears:<span class="html-tag">&lt;/h2&gt;</span><span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1249"></td><td class="line-content">				<span class="html-tag">&lt;button <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">addNewGear()</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">Add a new gear connected to the selected one</span>"&gt;</span>Add New<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">first</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">removeGear()</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">Remove selected gear and all child gears</span>"&gt;</span>Remove<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">clearAll()</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">last</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">Clear all, and start with a single default gear</span>"&gt;</span>Clear<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="1250"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1251"></td><td class="line-content">				<span class="html-tag">&lt;ul <span class="html-attribute-name">id</span>="<span class="html-attribute-value">gearselector</span>"&gt;</span></td></tr><tr><td class="line-number" value="1252"></td><td class="line-content">					<span class="html-comment">&lt;!--&lt;li class="selected"&gt;Gear 1 - Drive gear&lt;/li&gt;</span></td></tr><tr><td class="line-number" value="1253"></td><td class="line-content"><span class="html-comment">					&lt;li&gt;Gear 2 - second gear&lt;/li&gt;--&gt;</span></td></tr><tr><td class="line-number" value="1254"></td><td class="line-content">				<span class="html-tag">&lt;/ul&gt;</span></td></tr><tr><td class="line-number" value="1255"></td><td class="line-content">			<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="1256"></td><td class="line-content">			<span class="html-tag">&lt;h2&gt;</span>Connection properties<span class="html-tag">&lt;/h2&gt;</span></td></tr><tr><td class="line-number" value="1257"></td><td class="line-content">			<span class="html-tag">&lt;p&gt;</span></td></tr><tr><td class="line-number" value="1258"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">PG</span>"&gt;</span>Parent gear #:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1259"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">PG</span>"&gt;</span> <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">select</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">selectParent()</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">Select parent gear</span>"&gt;</span>Select<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="1260"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">CAXLE</span>"&gt;</span>Axle connection:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1261"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">checkbox</span>" <span class="html-attribute-name">checked</span>="<span class="html-attribute-value">checked</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">CAXLE</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">thecheckbox</span>"&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1262"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="1263"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">CA</span>"&gt;</span>Connection angle:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1264"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">CA</span>"&gt;</span> <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">first</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">Aadd(-5)</span>"&gt;</span>–<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">last</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">Aadd(5)</span>"&gt;</span>+<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="1265"></td><td class="line-content">			<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="1266"></td><td class="line-content">			<span class="html-tag">&lt;h2&gt;</span>Gear properties<span class="html-tag">&lt;/h2&gt;</span></td></tr><tr><td class="line-number" value="1267"></td><td class="line-content">			<span class="html-tag">&lt;p&gt;</span></td></tr><tr><td class="line-number" value="1268"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">N</span>"&gt;</span>Number of teeth* (N):<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1269"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">N</span>"&gt;</span> <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">first</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">Nadd(-1)</span>"&gt;</span>–<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">last</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">Nadd(1)</span>"&gt;</span>+<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1270"></td><td class="line-content">	</td></tr><tr><td class="line-number" value="1271"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">D</span>"&gt;</span>Pitch diameter* (D):<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1272"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">D</span>"&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1273"></td><td class="line-content">				</td></tr><tr><td class="line-number" value="1274"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">P</span>"&gt;</span>Diametral pitch (P):<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1275"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">P</span>"&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1276"></td><td class="line-content">			</td></tr><tr><td class="line-number" value="1277"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">PA</span>"&gt;</span>Pressure Angle (PA):<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1278"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">PA</span>"&gt;</span> <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">first</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">PAadd(-1)</span>"&gt;</span>–<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">last</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">PAadd(1)</span>"&gt;</span>+<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1279"></td><td class="line-content">				<span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">rem</span>"&gt;</span>* Shift + Enter: modifies the Diametral pitch<span class="html-tag">&lt;/span&gt;</span></td></tr><tr><td class="line-number" value="1280"></td><td class="line-content">			<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="1281"></td><td class="line-content">			<span class="html-tag">&lt;p&gt;</span></td></tr><tr><td class="line-number" value="1282"></td><td class="line-content">				<span class="html-tag">&lt;form <span class="html-attribute-name">action</span>="<span class="html-attribute-value">downloadsvg.php</span>" <span class="html-attribute-name">method</span>="<span class="html-attribute-value">post</span>"&gt;</span></td></tr><tr><td class="line-number" value="1283"></td><td class="line-content">					<span class="html-tag">&lt;input <span class="html-attribute-name">name</span>="<span class="html-attribute-value">data</span>" <span class="html-attribute-name">type</span>="<span class="html-attribute-value">hidden</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">svgdata</span>"&gt;</span></td></tr><tr><td class="line-number" value="1284"></td><td class="line-content">					<span class="html-tag">&lt;input <span class="html-attribute-name">name</span>="<span class="html-attribute-value">filename</span>" <span class="html-attribute-name">type</span>="<span class="html-attribute-value">hidden</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">svgfilename</span>"&gt;</span></td></tr><tr><td class="line-number" value="1285"></td><td class="line-content">					<span class="html-tag">&lt;label&gt;</span>Gear vector image:<span class="html-tag">&lt;/label&gt;</span> <span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">submit</span>" <span class="html-attribute-name">name</span>="<span class="html-attribute-value">downloadsvg</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">downloadsvg</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">Download selected Gear in SVG vector image format</span>"&gt;</span>Download SVG<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="1286"></td><td class="line-content">				<span class="html-tag">&lt;/form&gt;</span></td></tr><tr><td class="line-number" value="1287"></td><td class="line-content">				<span class="html-comment">&lt;!--&lt;textarea id="out"&gt;&lt;/textarea&gt;--&gt;</span></td></tr><tr><td class="line-number" value="1288"></td><td class="line-content">			<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="1289"></td><td class="line-content">			<span class="html-tag">&lt;div&gt;</span></td></tr><tr><td class="line-number" value="1290"></td><td class="line-content">				<span class="html-tag">&lt;h2&gt;</span>Display<span class="html-tag">&lt;/h2&gt;</span>	</td></tr><tr><td class="line-number" value="1291"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">scale</span>"&gt;</span>Scale (Pixel per Unit):<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1292"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">scale</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">100</span>"&gt;</span> <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">first</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">scalem(.5)</span>"&gt;</span>–<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">last</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">scalem(2)</span>"&gt;</span>+<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1293"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">grid</span>"&gt;</span>Grid:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1294"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">checkbox</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">grid</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">thecheckbox display</span>"&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1295"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">guides</span>"&gt;</span>Gear guides:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1296"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">checkbox</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">guides</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">thecheckbox display</span>"&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1297"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">labels</span>"&gt;</span>Gear label:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1298"></td><td class="line-content">				<span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">checkbox</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">labels</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">thecheckbox display</span>"&gt;</span><span class="html-tag">&lt;br&gt;</span></td></tr><tr><td class="line-number" value="1299"></td><td class="line-content">				<span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">theme</span>"&gt;</span>Color theme:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="1300"></td><td class="line-content">				<span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">first</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">setTheme(0)</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">Switch to Light theme</span>"&gt;</span>Light<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">next</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">setTheme(1)</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">Switch to Blueprint theme</span>"&gt;</span>Blueprint<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">last</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">setTheme(2)</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">Switch to Dark theme</span>"&gt;</span>Dark<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="1301"></td><td class="line-content">			<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="1302"></td><td class="line-content">			<span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">about</span>"&gt;</span></td></tr><tr><td class="line-number" value="1303"></td><td class="line-content">				<span class="html-tag">&lt;h2&gt;</span>About<span class="html-tag">&lt;/h2&gt;</span></td></tr><tr><td class="line-number" value="1304"></td><td class="line-content">				<span class="html-tag">&lt;p&gt;</span></td></tr><tr><td class="line-number" value="1305"></td><td class="line-content">					Gear Generator is a tool for creating <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://en.wikipedia.org/wiki/Involute_gear">http://en.wikipedia.org/wiki/Involute_gear</a>" <span class="html-attribute-name">target</span>="<span class="html-attribute-value">_blank</span>"&gt;</span>involute spur gears<span class="html-tag">&lt;/a&gt;</span> and download them in SVG format. In addition it let you compose full gear layouts with connetcted gears to design multiple gears system with control of the input/output ratio and rotation speed. Gears can be animated with various speed to demonstrate working mechanism.</td></tr><tr><td class="line-number" value="1306"></td><td class="line-content">				<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="1307"></td><td class="line-content">				<span class="html-tag">&lt;p&gt;</span></td></tr><tr><td class="line-number" value="1308"></td><td class="line-content">					Why this tool was created? Just for fun. I'm working on a hobby project, a scale construction machine, which needed some spur gears, and i quickly made a simple <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://geargenerator.com/index_proto.html">index_proto.html</a>" <span class="html-attribute-name">target</span>="<span class="html-attribute-value">_blank</span>"&gt;</span>spur gear creator<span class="html-tag">&lt;/a&gt;</span> script in Javascript with SVG output. As it was done, i couldn't stop, and i added more and more features, and finally i got this tool. It was a pleasure to code the whole thing, i'm a bit sad it is already done, so if you have any idea, what would be a helpful feature, just let me know by sending an <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="mailto:abel@iparigrafika.hu">mailto:abel@iparigrafika.hu</a>"&gt;</span>e-mail<span class="html-tag">&lt;/a&gt;</span>. </td></tr><tr><td class="line-number" value="1309"></td><td class="line-content">				<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="1310"></td><td class="line-content">				<span class="html-tag">&lt;p&gt;</span></td></tr><tr><td class="line-number" value="1311"></td><td class="line-content">					Notes about browser compatibility: all new major browsers are supported (i didn't tested IE), but unfortunately Chrome can't render SVG circle correctly. The winners are: Opera for the best performance (shame on me, i never use it) and Firefox for the best looking SVG render.</td></tr><tr><td class="line-number" value="1312"></td><td class="line-content">				<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="1313"></td><td class="line-content">			<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="1314"></td><td class="line-content">			<span class="html-tag">&lt;div&gt;</span></td></tr><tr><td class="line-number" value="1315"></td><td class="line-content">				<span class="html-tag">&lt;p&gt;</span>If you like it, please share:</td></tr><tr><td class="line-number" value="1316"></td><td class="line-content">					<span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://twitter.com/intent/tweet?original_referer=http%3a%2f%2fgeargenerator.com&url=http%3a%2f%2fgeargenerator.com&text=What+a+nice+gear+generator+%23HTML+%23CSS+via+%40AbelVincze">https://twitter.com/intent/tweet?original_referer=http%3a%2f%2fgeargenerator.com&amp;amp;url=http%3a%2f%2fgeargenerator.com&amp;amp;text=What+a+nice+gear+generator+%23HTML+%23CSS+via+%40AbelVincze</a>" <span class="html-attribute-name">target</span>="<span class="html-attribute-value">_blank</span>"&gt;</span><span class="html-tag">&lt;svg <span class="html-attribute-name">style</span>="<span class="html-attribute-value">margin-left: 12px;</span>" <span class="html-attribute-name">version</span>="<span class="html-attribute-value">1.2</span>" <span class="html-attribute-name">baseProfile</span>="<span class="html-attribute-value">tiny</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">Layer_1</span>" <span class="html-attribute-name">xmlns</span>="<span class="html-attribute-value">http://www.w3.org/2000/svg</span>" <span class="html-attribute-name">xmlns:xlink</span>="<span class="html-attribute-value">http://www.w3.org/1999/xlink</span>" <span class="html-attribute-name">x</span>="<span class="html-attribute-value">0px</span>" <span class="html-attribute-name">y</span>="<span class="html-attribute-value">0px</span>" <span class="html-attribute-name">width</span>="<span class="html-attribute-value">34px</span>" <span class="html-attribute-name">height</span>="<span class="html-attribute-value">25px</span>" <span class="html-attribute-name">viewBox</span>="<span class="html-attribute-value">0 0 34 25</span>" <span class="html-attribute-name">xml:space</span>="<span class="html-attribute-value">preserve</span>"&gt;</span><span class="html-tag">&lt;path <span class="html-attribute-name">class</span>="<span class="html-attribute-value">shareicon</span>" <span class="html-attribute-name">d</span>="<span class="html-attribute-value">M31.016,11.572c-0.971,0-1.908-0.136-2.793-0.384c0-0.03,0-0.06,0-0.091c0.154,0.02,0.315,0.03,0.479,0.03c1.3,0,2.445-0.629,3.129-1.587c-0.612,0.246-1.283,0.382-1.987,0.382c-0.63,0-1.233-0.109-1.788-0.308c-0.145-0.658-0.377-1.301-0.709-1.913c-2.406-4.452-6.177-3.977-6.177-3.977s2.776-0.54,2.646-1.276C23.686,1.71,21.12,2.852,21.12,2.852s1.424-0.77,1.224-1.096c-0.189-0.311-2.305,0.961-2.305,0.961s0.348-0.492,0.215-0.635c-0.134-0.143-1.818,1.271-3.108,3.364c-1.291,2.094-1.803,4.013-1.803,4.013s-0.664-0.812-2.166-1.824c-1.606-1.078-8.432-3.583-8.432-3.583S4.483,4.901,5.447,6.391c0.606,0.94,1.946,1.487,1.946,1.487s-0.552,0-0.98,0.06c-0.398,0.056-0.88,0.167-0.88,0.167S5.396,9.21,6.65,10.164c1.253,0.952,2.341,1.048,2.341,1.048s-0.682,0.049-1.197,0.225c-0.534,0.184-0.92,0.644-0.92,0.644s0.409,0.794,1.268,1.365c1.134,0.753,2.604,0.515,2.604,0.515s-1.316,0.338-1.23,1.372c0.123,1.518,2.347,1.211,2.347,1.211c-1.527,1.587-3.729,2.512-6.158,2.512c-2.196,0-4.213-0.74-5.703-2.072c0,0,8.422,11.141,22.605,3.168c2.902-1.633,4.925-4.441,5.47-7.353c0.256,0.049,0.521,0.076,0.792,0.076c1.206,0,2.283-0.52,3.009-1.336C31.591,11.557,31.305,11.572,31.016,11.572z</span>"/&gt;</span><span class="html-tag">&lt;/svg&gt;</span><span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="1317"></td><td class="line-content">					<span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fgeargenerator.com">https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fgeargenerator.com</a>" <span class="html-attribute-name">target</span>="<span class="html-attribute-value">_blank</span>"&gt;</span><span class="html-tag">&lt;svg <span class="html-attribute-name">version</span>="<span class="html-attribute-value">1.2</span>" <span class="html-attribute-name">baseProfile</span>="<span class="html-attribute-value">tiny</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">Layer_1</span>" <span class="html-attribute-name">xmlns</span>="<span class="html-attribute-value">http://www.w3.org/2000/svg</span>" <span class="html-attribute-name">xmlns:xlink</span>="<span class="html-attribute-value">http://www.w3.org/1999/xlink</span>" <span class="html-attribute-name">x</span>="<span class="html-attribute-value">0px</span>" <span class="html-attribute-name">y</span>="<span class="html-attribute-value">0px</span>" <span class="html-attribute-name">width</span>="<span class="html-attribute-value">30px</span>" <span class="html-attribute-name">height</span>="<span class="html-attribute-value">25px</span>" <span class="html-attribute-name">viewBox</span>="<span class="html-attribute-value">0 0 30 25</span>" <span class="html-attribute-name">xml:space</span>="<span class="html-attribute-value">preserve</span>"&gt;</span><span class="html-tag">&lt;path <span class="html-attribute-name">class</span>="<span class="html-attribute-value">shareicon</span>" <span class="html-attribute-name">d</span>="<span class="html-attribute-value">M20.035,24.729h-5.323V12.365h-2.659V8.103h2.659V5.545C14.712,2.069,16.216,0,20.48,0h3.551v4.263h-2.219c-1.662,0-1.771,0.596-1.771,1.708l-0.005,2.132h4.022l-0.473,4.262h-3.551V24.729z</span>"/&gt;</span><span class="html-tag">&lt;/svg&gt;</span><span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="1318"></td><td class="line-content">					<span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://pinterest.com/pin/create/button/?url=http%3a%2f%2fgeargenerator.com&media=http%3a%2f%2fgeargenerator.com%2fshareimage.jpg&description=Involute+spur+gear+generator+and+simulator+in+%23HTML+%23CSS">http://pinterest.com/pin/create/button/?url=http%3a%2f%2fgeargenerator.com&amp;amp;media=http%3a%2f%2fgeargenerator.com%2fshareimage.jpg&amp;amp;description=Involute+spur+gear+generator+and+simulator+in+%23HTML+%23CSS</a>" <span class="html-attribute-name">target</span>="<span class="html-attribute-value">_blank</span>"&gt;</span><span class="html-tag">&lt;svg <span class="html-attribute-name">version</span>="<span class="html-attribute-value">1.2</span>" <span class="html-attribute-name">baseProfile</span>="<span class="html-attribute-value">tiny</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">Layer_1</span>" <span class="html-attribute-name">xmlns</span>="<span class="html-attribute-value">http://www.w3.org/2000/svg</span>" <span class="html-attribute-name">xmlns:xlink</span>="<span class="html-attribute-value">http://www.w3.org/1999/xlink</span>" <span class="html-attribute-name">x</span>="<span class="html-attribute-value">0px</span>" <span class="html-attribute-name">y</span>="<span class="html-attribute-value">0px</span>" <span class="html-attribute-name">width</span>="<span class="html-attribute-value">32px</span>" <span class="html-attribute-name">height</span>="<span class="html-attribute-value">25px</span>" <span class="html-attribute-name">viewBox</span>="<span class="html-attribute-value">0 0 32 25</span>" <span class="html-attribute-name">xml:space</span>="<span class="html-attribute-value">preserve</span>"&gt;</span><span class="html-tag">&lt;path <span class="html-attribute-name">class</span>="<span class="html-attribute-value">shareicon</span>" <span class="html-attribute-name">d</span>="<span class="html-attribute-value">M19.607,16.155c-0.604,2.542-1.196,4.992-2.489,6.926c-0.394,0.592-0.792,1.337-1.466,1.656c-1-4.937,1.084-9.092,1.912-13.243c-1.055-2.06-0.397-5.552,1.852-5.945c3.262-0.575,2.402,3.206,1.85,4.965c-0.304,0.963-0.851,1.885-0.767,2.944c0.181,2.228,3.099,2.371,4.591,1.226c2.143-1.644,2.76-4.814,2.553-7.419C27.325,3.3,22.65,1.328,18.523,2.913c-2.125,0.819-4.059,2.697-4.338,5.456c-0.147,1.455,0.17,2.614,0.765,3.434c0.092,0.124,0.401,0.343,0.446,0.674c0.094,0.673-0.322,1.399-0.701,1.901c-2.113-0.586-3.205-2.412-3.379-4.719c-0.398-5.255,4.088-9.253,9.373-9.625c5.638-0.396,10.109,2.732,10.523,7.295c0.309,3.392-0.941,6.807-2.933,8.643c-1.493,1.379-4.673,2.73-7.271,1.41C20.434,17.087,20.18,16.729,19.607,16.155z</span>"/&gt;</span><span class="html-tag">&lt;/svg&gt;</span><span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="1319"></td><td class="line-content">				<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="1320"></td><td class="line-content">			<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="1321"></td><td class="line-content">		<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="1322"></td><td class="line-content">		<span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">footer</span>"&gt;</span></td></tr><tr><td class="line-number" value="1323"></td><td class="line-content">			<span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="http://iparigrafika.hu/">http://iparigrafika.hu/</a>" <span class="html-attribute-name">target</span>="<span class="html-attribute-value">_blank</span>"&gt;</span>(C) 2014 - Created by Abel Vincze/Iparigrafika Ltd.<span class="html-tag">&lt;/a&gt;</span><span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="1324"></td><td class="line-content">		<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="1325"></td><td class="line-content">	<span class="html-tag">&lt;/body&gt;</span></td></tr><tr><td class="line-number" value="1326"></td><td class="line-content">	<span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="1327"></td><td class="line-content">		reset();</td></tr><tr><td class="line-number" value="1328"></td><td class="line-content">		$("p.title").each(function() { replaceWithSVGText( $( this ), true, 6, 6  ); });</td></tr><tr><td class="line-number" value="1329"></td><td class="line-content">		replaceWithSVGText( $("#footer a"), true, 1, 1 );</td></tr><tr><td class="line-number" value="1330"></td><td class="line-content">	<span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="1331"></td><td class="line-content">	<span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="1332"></td><td class="line-content">		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){</td></tr><tr><td class="line-number" value="1333"></td><td class="line-content">			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),</td></tr><tr><td class="line-number" value="1334"></td><td class="line-content">			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)</td></tr><tr><td class="line-number" value="1335"></td><td class="line-content">		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');</td></tr><tr><td class="line-number" value="1336"></td><td class="line-content">		ga('create', 'UA-780078-4', 'auto');</td></tr><tr><td class="line-number" value="1337"></td><td class="line-content">		ga('send', 'pageview');</td></tr><tr><td class="line-number" value="1338"></td><td class="line-content">	<span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="1339"></td><td class="line-content"><span class="html-tag">&lt;/html&gt;</span><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>